import{r,o as c,c as p,a as n,e as d,_ as l,d as m,T as s,bd as _,G as w,j as u,aX as C,R as T,k as f}from"./index.7468df66.js";import{C as v}from"./CEditTrip.7f6b1bdf.js";import{C as g}from"./CHead.6815b5d8.js";import"./DataProps.5928c7a8.js";import"./Input.1981449a.js";import"./E.8edf71d6.js";import"./NaiveUtils.4ae151f9.js";import"./Select.8dffc0b0.js";const h={class:"new_trip narrow_content"},y=d("h1",{class:"title"},"New Trip",-1);function N(e,a,t,S,$,k){const o=r("CHead"),i=r("CEditTrip");return c(),p("div",h,[n(o,{title:"New Trip",description:"Create new trip"}),y,n(i,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const R=m({components:{CEditTrip:v,CHead:g},data(){return{trip:new s({details:{days:[{day_of:1,places:[{}]}]}})}},methods:{cancel(){_.back()},async save(e){const a=await w.genCurrentUser();try{if(a.ID!==0){const t=await u.genPOST("v2/trip",C.stringify(e));await T.genRedirectTo(f.trip_View+"/"+new s(t).ID);return}}catch{}this.$alert("Save was unsuccessful. Please try again later.","Fail",{confirmButtonText:"OK"})}}});var D=l(R,[["render",N]]);export{D as default};
