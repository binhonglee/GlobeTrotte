import{d as c,G as l,H as d,j as m,R as w,e as u,s as f,c as _,a,b as C,r as o,o as T,_ as v}from"./index-CVwEz7sZ.js";import{C as g}from"./CEditTrip-DKAK3eyx.js";import{T as i}from"./TripObj-B2zgwhZc.js";import{C as N}from"./CHead-DB__Oa_T.js";import{N as n}from"./NaiveUtils-CaBEIltk.js";import"./DataProps-DCopCXR4.js";import"./Input-B0b2FwEY.js";import"./CEditItem-CkORRj5K.js";import"./UserUtil-BfIc5bHd.js";import"./Select-BH-AmpZh.js";const y=c({components:{CEditTrip:g,CHead:N},data(){return{trip:new i({details:{days:[{day_of:1,places:[{}]}]}})}},beforeMount(){n.init()},methods:{cancel(){f.back()},async save(e){const t=await l.genCurrentUser();try{if(t.ID!==0){const r=await d.genPOST("v2/trip",m.WingsStructUtil.stringify(e));await w.genRedirectTo(u.trip_View+"/"+new i(r).ID);return}}catch{}n.dialogError({title:"Fail",content:"Save was unsuccessful. Please try again later.",positiveText:"OK"})}}}),E={class:"new_trip narrow_content"};function H(e,t,r,R,S,b){const s=o("CHead"),p=o("CEditTrip");return T(),_("div",E,[a(s,{title:"New Trip",description:"Create new trip"}),t[0]||(t[0]=C("h1",{class:"title"},"New Trip",-1)),a(p,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const D=v(y,[["render",H]]);export{D as default};
