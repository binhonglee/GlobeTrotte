import{C as g}from"./CTripPreviewCard.ca9f618d.js";import{r as o,o as n,c as p,a as i,e as a,f as y,w as T,F as w,g as b,p as $,b as S,h as N,i as k,_ as q,d as I,N as R,j as B,T as l,R as c,k as d}from"./index.1f0436da.js";import{C as u}from"./DataProps.07854fd6.js";import{C as P}from"./CHead.ded84eea.js";import{N as F}from"./Input.1125efcd.js";import{N as H}from"./Select.5abc23ef.js";import"./CLink.b3569f35.js";import"./CPlaces.245750c2.js";const r=e=>($("data-v-55cda528"),e=e(),S(),e),L={class:"landing"},j=r(()=>a("h1",{class:"title"},"GlobeTrotte",-1)),G=r(()=>a("h3",{class:"subtitle"},"Look for your next travel plan here!",-1)),K=r(()=>a("br",null,null,-1)),O={class:"tripSearchForm"},U=k("Find"),V={class:"homePageTripCarousel"};function A(e,t,h,M,Q,W){const _=o("CHead"),m=o("n-input"),C=o("n-select"),v=o("n-button"),f=o("CTripPreviewCard");return n(),p("div",L,[i(_,{description:"Welcome to GlobeTrotte - A travel itinerary crowdsourcing platform",type:"homepage"}),j,G,K,a("form",O,[i(m,{class:"tripSearchQueryInput",placeholder:"Alaska",value:e.query,"onUpdate:value":t[0]||(t[0]=s=>e.query=s),onKeyup:y(e.search,["enter","native"])},null,8,["value","onKeyup"]),i(C,{class:"tripSearchCityInput",value:e.selectedCities,"onUpdate:value":t[1]||(t[1]=s=>e.selectedCities=s),options:e.possibleCities,filterable:"",multiple:"",placeholder:"City"},null,8,["value","options"]),i(v,{onClick:e.search},{default:T(()=>[U]),_:1},8,["onClick"])]),a("div",V,[(n(!0),p(w,null,b(e.trips,s=>(n(),N(f,{trip:s},null,8,["trip"]))),256))])])}const E=I({components:{NButton:R,NInput:F,NSelect:H,CTripPreviewCard:g,CHead:P},data:()=>({length:0,possibleCities:[],query:"",selectedCities:[],trips:[]}),async beforeMount(){this.$data.possibleCities=u.sortedCityOptions(),this.$data.trips=[];const e=await B.genGET("v2/sample_trips");for(const t of e)new l(t).details.days.length>0&&this.$data.trips.push(new l(t))},methods:{async search(){this.$data.query.length>0||this.$data.selectedCities.length>0||this.$data.length!==0||await c.genRedirectTo(d.trip_Search),await c.genRedirectTo(d.trip_Search,new Map(Object.entries({length:this.$data.length.toString(),query:this.$data.query,cities:u.citiesToString(this.$data.selectedCities)})))}}});var te=q(E,[["render",A],["__scopeId","data-v-55cda528"]]);export{te as default};
