import{C as m}from"./CTripPreviewCard.93747aad.js";import{U as g,G as v,_ as y}from"./index.73c2cf5c.js";import{r as i,o as t,d as s,i as p,y as u,g as r,e as n,w as l,F as w,s as C,f as $,h as c,m as k,n as P,j as T,t as B,B as b}from"./vendor.8f75e3dd.js";const N=e=>(k("data-v-92fab0a4"),e=e(),P(),e),E={class:"view_user"},I={class:"userInfo narrow_content"},U={key:0,class:"userName"},V={key:1,class:"userBio"},j={key:2,class:"userInfoButtonGroups"},A=c("Logout"),D=c("Edit"),S={key:0,class:"viewUserTrips"},G=N(()=>p("h2",null,"Trips",-1));function L(e,o,a,O,q,M){const d=i("n-button"),_=i("n-divider"),h=i("CTripPreviewCard");return t(),s("div",E,[p("div",I,[e.showName?(t(),s("h2",U,u(e.user.details.name),1)):r("",!0),e.user.details.bio!==""?(t(),s("p",V,u(e.user.details.bio),1)):r("",!0),e.self?(t(),s("div",j,[n(d,{class:"myAccountLogout",type:"error",onClick:e.logout},{default:l(()=>[A]),_:1},8,["onClick"]),n(d,{class:"myAccountEdit",tabindex:"0",type:"default",ref:"edit",onClick:e.toggleEdit},{default:l(()=>[D]),_:1},8,["onClick"])])):r("",!0)]),n(_,{class:"viewUserDivider"}),e.trips.length>0?(t(),s("div",S,[G,(t(!0),s(w,null,C(e.trips,f=>(t(),$(h,{trip:f,wide:!0},null,8,["trip"]))),256))])):r("",!0)])}const F=T({components:{CTripPreviewCard:m,NButton:B,NDivider:b},props:{user:{type:g,required:!0},showName:{type:Boolean,default:!0},self:{type:Boolean,default:!1}},emits:{logout(){return!0},toggleEdit(){return!0}},data:()=>({trips:[],lastPopulated:[]}),async beforeMount(){await this.genPopulateTrips()},async beforeUpdate(){await this.genPopulateTrips()},methods:{compareArray(e,o){if(e.length!==o.length)return!1;for(let a in e)if(e[a]!==o[a])return!1;return!0},async genPopulateTrips(){this.compareArray(this.$data.lastPopulated,this.$props.user.trips)||(this.$data.trips=await Promise.all(this.$props.user.trips.map(async e=>await v.genTrip(e.ID.valueOf()))),this.$data.lastPopulated=this.$props.user.trips)},logout(){this.$emit("logout")},toggleEdit(){this.$emit("toggleEdit")}}});var K=y(F,[["render",L],["__scopeId","data-v-92fab0a4"]]);export{K as C};
