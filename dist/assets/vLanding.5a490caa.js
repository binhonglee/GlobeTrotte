import{C as T}from"./CTripInCarousel.f70c86ce.js";import{_ as w,H as $,T as c,R as S,a as k}from"./index.03aec9c1.js";import{C as d}from"./CityUtil.462445f0.js";import{r as n,o as i,d as l,e as r,m as I,w as u,i as s,F as h,n as _,q as V,s as j,h as p,f as m,j as q}from"./vendor.ecd2beb5.js";import"./CPlaces.3d57f8be.js";const a=e=>(V("data-v-1e86806a"),e=e(),j(),e),F={class:"landing"},R=a(()=>s("h1",{class:"title"},"GlobeTrotte",-1)),B=a(()=>s("form",{class:"tripSearchForm"},null,-1)),L=p("Find"),U=a(()=>s("p",null,[p("Feel free to click around but nothing is set in stone. Do not save any important infomation here. Everything can and will be wiped from time to time."),s("br"),s("br"),p("You should check back again soon!")],-1)),E=a(()=>s("br",null,null,-1)),K=a(()=>s("br",null,null,-1)),N={class:"homePageTripCarousel"};function P(e,o,C,H,M,O){const f=n("el-input"),y=n("el-option"),b=n("el-select"),g=n("el-button"),v=n("CTripInCarousel");return i(),l("div",F,[R,B,r(f,{class:"tripSearchQueryInput",placeholder:"Trip to Alaska",modelValue:e.query,"onUpdate:modelValue":o[0]||(o[0]=t=>e.query=t),onKeyup:I(e.search,["enter","native"])},null,8,["modelValue","onKeyup"]),r(b,{class:"tripSearchCityInput",modelValue:e.selectedCities,"onUpdate:modelValue":o[1]||(o[1]=t=>e.selectedCities=t),filterable:"",multiple:"","no-match-text":"City not found",placeholder:"City"},{default:u(()=>[(i(!0),l(h,null,_(e.possibleCities,t=>(i(),m(y,{class:"tripSearchSingleCity",label:t.label,value:t.key},null,8,["label","value"]))),256))]),_:1},8,["modelValue"]),r(g,{onClick:e.search},{default:u(()=>[L]),_:1},8,["onClick"]),U,E,K,s("div",N,[(i(!0),l(h,null,_(e.trips,t=>(i(),m(v,{trip:t},null,8,["trip"]))),256))])])}const G=q({components:{CTripInCarousel:T},data:()=>({length:0,possibleCities:[],query:"",selectedCities:[],trips:[]}),async beforeMount(){this.$data.possibleCities=d.sortedCityList(),this.$data.trips=[],console.log("production");const e=await $.genGET("v2/sample_trips");for(const o of e)new c(o).details.days.length>0&&this.$data.trips.push(new c(o))},methods:{async search(){(this.$data.query.length>0||this.$data.selectedCities.length>0||this.$data.length!==0)&&await S.genRedirectTo(k.trip_Search,new Map(Object.entries({length:this.$data.length.toString(),query:this.$data.query,cities:d.citiesToString(this.$data.selectedCities)})))}}});var z=w(G,[["render",P],["__scopeId","data-v-1e86806a"]]);export{z as default};
