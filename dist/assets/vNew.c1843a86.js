import{r as s,o,d as i,e as c,i as p,j as l,W as d}from"./vendor.7e76ed18.js";import{C as u}from"./CEditTrip.888b2a9c.js";import{_,T as r,r as m,G as w,H as f,R as T,a as v}from"./index.5f7d8ff2.js";import"./DataProps.7b6fceb6.js";import"./E.318fca05.js";import"./NaiveUtils.f685e1b2.js";const C={class:"new_trip narrow_content"},g=p("h1",{class:"title"},"New Trip",-1);function h(e,a,t,N,R,S){const n=s("CEditTrip");return o(),i("div",C,[g,c(n,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const y=l({components:{CEditTrip:u},data(){return{trip:new r({details:{days:[{day_of:1,places:[{}]}]}})}},methods:{cancel(){m.back()},async save(e){const a=await w.genCurrentUser();try{if(a.ID!==0){const t=await f.genPOST("v2/trip",d.stringify(e));await T.genRedirectTo(v.trip_View+"/"+new r(t).ID);return}}catch{}this.$alert("Save was unsuccessful. Please try again later.","Fail",{confirmButtonText:"OK"})}}});var V=_(y,[["render",h]]);export{V as default};
