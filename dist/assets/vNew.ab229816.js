import{r as n,o,d as i,e as c,q as p,s as d,i as _,j as l,W as u}from"./vendor.ecd2beb5.js";import{C as v}from"./CEditTrip.d74c58bc.js";import{_ as f,T as s,r as m,G as w,H as T,R as C,a as h}from"./index.03aec9c1.js";import"./E.589345bc.js";import"./CityUtil.462445f0.js";const y=e=>(p("data-v-4f949bcc"),e=e(),d(),e),b={class:"new_trip narrow_content"},g=y(()=>_("h1",{class:"title"},"New Trip",-1));function S(e,a,t,E,I,N){const r=n("CEditTrip");return o(),i("div",b,[g,c(r,{class:"newTrip",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const j=l({data(){return{trip:new s({details:{days:[{day_of:1,places:[{}]}]}})}},components:{CEditTrip:v},methods:{cancel(){m.back()},async save(e){const a=await w.genCurrentUser();try{if(a.ID!==0){const t=await T.genPOST("v2/trip",u.stringify(e));await C.genRedirectTo(h.trip_View+"/"+new s(t).ID);return}}catch{}this.$alert("Save was unsuccessful. Please try again later.","Fail",{confirmButtonText:"OK"})}}});var O=f(j,[["render",S],["__scopeId","data-v-4f949bcc"]]);export{O as default};
