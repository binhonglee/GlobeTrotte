var F=Object.defineProperty;var q=(t,e,i)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var a=(t,e,i)=>(q(t,typeof e!="symbol"?e+"":e,i),i);import{a as x,c as J,b as k,u as y,p as E,W as C,r as I,o as D,d as Y,e as v,w as m,f as S,g as R,h as _,i as M,j as Z,N as z,k as Q,l as X}from"./vendor.b89496ae.js";const H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}};H();class ${static async genRedirect(e,i,r=!1,s=null){s!==null&&e.currentRoute.value.path.startsWith(s)&&!r||await e.push(i)}}class u{static async genRedirectTo(e,i=new Map,r="",s=!1){e!=="/"&&(e=this.getSubPath(e,i,r)),await $.genRedirect(this.router,e,s,this.ratelimited)}static getParamMap(){const e=this.router.currentRoute.value.params.params;return this.paramMapFromString(e)}static paramMapFromString(e){if(e===void 0||!e.startsWith(":"))return new Map;e=e.substring(1);const i=e.split(":"),r=new Map;return i.forEach(s=>{const n=s.split("=");n.length===2&&r.set(n[0],n[1])}),r}static setParamMap(e){let i="";return e.forEach((r,s)=>{i+=":"+s+"="+r}),i}static hasNext(){return this.getParamMap().has("next")}static addParamNext(e,i,r=new Map){var o,h;i.startsWith("/")&&(i=i.substring(1));const s=i.split("&"),n=(h=(o=s.shift())==null?void 0:o.split("/").join("."))!=null?h:"";return s.length>0?i=n+"&"+s.join(""):i=n,r.set("next",i),e+"/"+this.setParamMap(r)}static getSubPath(e,i,r){return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e+(r.length>0?"/"+r:"")+"/"+this.setParamMap(i)}static async paramToNext(e=new Map,i=!1){const r=this.getParamMap().get("next");await this.genRedirectTo(this.next(r!=null?r:this.default),e,"",i)}static getNext(e,i=new Map){const r=this.paramMapFromString(e.params.params).get("next");return this.next(r!=null?r:this.default,i)}static fakeGetNext(e=new Map,i=this.default){return this.next(i,e)}static next(e,i=new Map){var n,o;if(e===void 0||e.length<2)return i.delete("next"),"/"+this.setParamMap(i);const r=e.split("&");let s="";for(;s===""||s===void 0;)s=(o=(n=r.shift())==null?void 0:n.split(".").join("/"))!=null?o:"";return e=s,r.length>0&&i.set("next",r.join("&")),"/"+(e.length>0?e+"/":"")+this.setParamMap(i)}}a(u,"router"),a(u,"ratelimited"),a(u,"default");var P;(function(t){t.POST="POST",t.GET="GET",t.DELETE="DELETE",t.OPTIONS="OPTIONS"})(P||(P={}));class f{static beforeSendRequest(){}static sendRequestSuccess(){}static sendRequestFailure(){}static async genGET(e){return this.genSendRequest(this.getRouter(),e,P.GET)}static async genDELETE(e,i=""){return this.genSendRequest(this.getRouter(),this.delPrefix+e,P.POST,i)}static async genPOST(e,i){return this.genSendRequest(this.getRouter(),e,P.POST,i)}static getURI(e){return"https://"+this.host+(this.port===void 0?"":":"+this.port)+this.pathPrefix+e}static async genSendRequest(e,i,r,s=""){this.beforeSendRequest();const n={method:r,url:this.getURI(i)};s.length>0&&(n.data=s.split(`
`).join("\\n"));try{const o=(await x.request(n)).data;return!e.currentRoute.value.path.startsWith(this.rateLimited)&&o===this.rateLimited?(this.sendRequestSuccess(),await $.genRedirect(e,u.addParamNext(this.rateLimited,e.currentRoute.value.path),!1,this.rateLimited),""):(this.sendRequestSuccess(),o)}catch{return this.sendRequestFailure(),""}}static getRouter(){if(this.router===void 0||this.router===null)throw new ReferenceError("Router is null or undefined.");return this.router}}a(f,"host"),a(f,"port"),a(f,"pathPrefix"),a(f,"delPrefix"),a(f,"rateLimited"),a(f,"router");const b="modulepreload",B={},j="/",c=function(e,i){return!i||i.length===0?e():Promise.all(i.map(r=>{if(r=`${j}${r}`,r in B)return;B[r]=!0;const s=r.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":b,s||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),s)return new Promise((h,N)=>{o.addEventListener("load",h),o.addEventListener("error",N)})})).then(()=>e())};var g=J({history:k(),routes:[{path:"/:pathMatch(.*)",name:"404",component:()=>c(()=>import("./v404.da0c0818.js"),["assets/v404.da0c0818.js","assets/v404.35b50913.css","assets/vendor.b89496ae.js"])},{path:"/",name:"landing",component:()=>c(()=>import("./vLanding.2aba66ab.js"),["assets/vLanding.2aba66ab.js","assets/vLanding.3461441f.css","assets/CTripPreviewCard.9a64307d.js","assets/CTripPreviewCard.5397c016.css","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css","assets/vendor.b89496ae.js","assets/CityUtil.5044ab31.js"])},{path:"/confirm/email",name:"confirm/EmailIndex",component:()=>c(()=>import("./vIDEmail.4a758094.js"),["assets/vIDEmail.4a758094.js","assets/vIDEmail.f5bb3837.css","assets/vendor.b89496ae.js"])},{path:"/confirm/email/:id",name:"confirm/Email",component:()=>c(()=>import("./vIDEmail.4a758094.js"),["assets/vIDEmail.4a758094.js","assets/vIDEmail.f5bb3837.css","assets/vendor.b89496ae.js"])},{path:"/confirm/email/:id/:params",name:"confirm/EmailParams",component:()=>c(()=>import("./vIDEmail.4a758094.js"),["assets/vIDEmail.4a758094.js","assets/vIDEmail.f5bb3837.css","assets/vendor.b89496ae.js"])},{path:"/password/reset",name:"password/Reset",component:()=>c(()=>import("./vReset.040f326f.js"),["assets/vReset.040f326f.js","assets/vReset.c9325ff1.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/vendor.b89496ae.js"])},{path:"/password/reset/:params",name:"password/ResetParams",component:()=>c(()=>import("./vReset.040f326f.js"),["assets/vReset.040f326f.js","assets/vReset.c9325ff1.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/vendor.b89496ae.js"])},{path:"/trip/view",name:"trip/ViewIndex",component:()=>c(()=>import("./vIDView.bb1f041b.js"),["assets/vIDView.bb1f041b.js","assets/vIDView.47be0a6b.css","assets/vendor.b89496ae.js","assets/CEditTrip.9bea88c8.js","assets/CEditTrip.0c544c31.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/CityUtil.5044ab31.js","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css"])},{path:"/trip/view/:id",name:"trip/View",component:()=>c(()=>import("./vIDView.bb1f041b.js"),["assets/vIDView.bb1f041b.js","assets/vIDView.47be0a6b.css","assets/vendor.b89496ae.js","assets/CEditTrip.9bea88c8.js","assets/CEditTrip.0c544c31.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/CityUtil.5044ab31.js","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css"])},{path:"/trip/view/:id/:params",name:"trip/ViewParams",component:()=>c(()=>import("./vIDView.bb1f041b.js"),["assets/vIDView.bb1f041b.js","assets/vIDView.47be0a6b.css","assets/vendor.b89496ae.js","assets/CEditTrip.9bea88c8.js","assets/CEditTrip.0c544c31.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/CityUtil.5044ab31.js","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css"])},{path:"/trip/new",name:"trip/New",meta:{confirmed:!0},component:()=>c(()=>import("./vNew.00aaac12.js"),["assets/vNew.00aaac12.js","assets/vNew.d2239e00.css","assets/vendor.b89496ae.js","assets/CEditTrip.9bea88c8.js","assets/CEditTrip.0c544c31.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/CityUtil.5044ab31.js"])},{path:"/trip/new/:params",name:"trip/NewParams",meta:{confirmed:!0},component:()=>c(()=>import("./vNew.00aaac12.js"),["assets/vNew.00aaac12.js","assets/vNew.d2239e00.css","assets/vendor.b89496ae.js","assets/CEditTrip.9bea88c8.js","assets/CEditTrip.0c544c31.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/CityUtil.5044ab31.js"])},{path:"/trip/search",name:"trip/Search",component:()=>c(()=>import("./vSearch.2227d4ed.js"),["assets/vSearch.2227d4ed.js","assets/vSearch.97f24c23.css","assets/CTripPreviewCard.9a64307d.js","assets/CTripPreviewCard.5397c016.css","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css","assets/vendor.b89496ae.js","assets/CityUtil.5044ab31.js"])},{path:"/trip/search/:params",name:"trip/SearchParams",component:()=>c(()=>import("./vSearch.2227d4ed.js"),["assets/vSearch.2227d4ed.js","assets/vSearch.97f24c23.css","assets/CTripPreviewCard.9a64307d.js","assets/CTripPreviewCard.5397c016.css","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css","assets/vendor.b89496ae.js","assets/CityUtil.5044ab31.js"])},{path:"/unconfirmed/email",name:"unconfirmed/Email",component:()=>c(()=>import("./vEmail.7159a82b.js"),["assets/vEmail.7159a82b.js","assets/vEmail.bbeac0e8.css","assets/vendor.b89496ae.js"])},{path:"/unconfirmed/email/:params",name:"unconfirmed/EmailParams",component:()=>c(()=>import("./vEmail.7159a82b.js"),["assets/vEmail.7159a82b.js","assets/vEmail.bbeac0e8.css","assets/vendor.b89496ae.js"])},{path:"/user",name:"UserIndex",component:()=>c(()=>import("./vIDUser.586fde96.js"),["assets/vIDUser.586fde96.js","assets/vIDUser.1e670a2b.css","assets/CViewUser.b578d451.js","assets/CViewUser.19af5823.css","assets/CTripPreviewCard.9a64307d.js","assets/CTripPreviewCard.5397c016.css","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css","assets/vendor.b89496ae.js","assets/CityUtil.5044ab31.js"])},{path:"/user/:id",name:"User",component:()=>c(()=>import("./vIDUser.586fde96.js"),["assets/vIDUser.586fde96.js","assets/vIDUser.1e670a2b.css","assets/CViewUser.b578d451.js","assets/CViewUser.19af5823.css","assets/CTripPreviewCard.9a64307d.js","assets/CTripPreviewCard.5397c016.css","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css","assets/vendor.b89496ae.js","assets/CityUtil.5044ab31.js"])},{path:"/user/:id/:params",name:"UserParams",component:()=>c(()=>import("./vIDUser.586fde96.js"),["assets/vIDUser.586fde96.js","assets/vIDUser.1e670a2b.css","assets/CViewUser.b578d451.js","assets/CViewUser.19af5823.css","assets/CTripPreviewCard.9a64307d.js","assets/CTripPreviewCard.5397c016.css","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css","assets/vendor.b89496ae.js","assets/CityUtil.5044ab31.js"])},{path:"/login",name:"Login",meta:{guest:!0},component:()=>c(()=>import("./vLogin.76ef4041.js"),["assets/vLogin.76ef4041.js","assets/vLogin.385d2ead.css","assets/vendor.b89496ae.js","assets/E.5e463c1d.js","assets/E.c75709b6.css"])},{path:"/login/:params",name:"LoginParams",meta:{guest:!0},component:()=>c(()=>import("./vLogin.76ef4041.js"),["assets/vLogin.76ef4041.js","assets/vLogin.385d2ead.css","assets/vendor.b89496ae.js","assets/E.5e463c1d.js","assets/E.c75709b6.css"])},{path:"/myaccount",name:"MyAccount",meta:{loggedIn:!0},component:()=>c(()=>import("./vMyAccount.bc678c1a.js"),["assets/vMyAccount.bc678c1a.js","assets/vMyAccount.af6ac5fc.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/vendor.b89496ae.js","assets/CViewUser.b578d451.js","assets/CViewUser.19af5823.css","assets/CTripPreviewCard.9a64307d.js","assets/CTripPreviewCard.5397c016.css","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css","assets/CityUtil.5044ab31.js"])},{path:"/myaccount/:params",name:"MyAccountParams",meta:{loggedIn:!0},component:()=>c(()=>import("./vMyAccount.bc678c1a.js"),["assets/vMyAccount.bc678c1a.js","assets/vMyAccount.af6ac5fc.css","assets/E.5e463c1d.js","assets/E.c75709b6.css","assets/vendor.b89496ae.js","assets/CViewUser.b578d451.js","assets/CViewUser.19af5823.css","assets/CTripPreviewCard.9a64307d.js","assets/CTripPreviewCard.5397c016.css","assets/CPlaces.e7afc49d.js","assets/CPlaces.a27dfc15.css","assets/CityUtil.5044ab31.js"])},{path:"/ratelimited",name:"RateLimited",component:()=>c(()=>import("./vRateLimited.8e5507d2.js"),["assets/vRateLimited.8e5507d2.js","assets/vendor.b89496ae.js"])},{path:"/ratelimited/:params",name:"RateLimitedParams",component:()=>c(()=>import("./vRateLimited.8e5507d2.js"),["assets/vRateLimited.8e5507d2.js","assets/vendor.b89496ae.js"])},{path:"/refresh",name:"Refresh",component:()=>c(()=>import("./vRefresh.b8e3cf01.js"),["assets/vRefresh.b8e3cf01.js","assets/vendor.b89496ae.js"])},{path:"/refresh/:params",name:"RefreshParams",component:()=>c(()=>import("./vRefresh.b8e3cf01.js"),["assets/vRefresh.b8e3cf01.js","assets/vendor.b89496ae.js"])},{path:"/register",name:"Register",meta:{guest:!0},component:()=>c(()=>import("./vRegister.578f113a.js"),["assets/vRegister.578f113a.js","assets/vRegister.80122071.css","assets/vendor.b89496ae.js","assets/E.5e463c1d.js","assets/E.c75709b6.css"])},{path:"/register/:params",name:"RegisterParams",meta:{guest:!0},component:()=>c(()=>import("./vRegister.578f113a.js"),["assets/vRegister.578f113a.js","assets/vRegister.80122071.css","assets/vendor.b89496ae.js","assets/E.5e463c1d.js","assets/E.c75709b6.css"])}]});class l extends f{static beforeSendRequest(){try{this.loadingBar=y(),this.loadingBar.start(),this.failed=!1}catch{this.failed=!0}}static sendRequestSuccess(){!this.failed&&this.loadingBar!==void 0&&this.loadingBar.finish()}static sendRequestFailure(){!this.failed&&this.loadingBar!==void 0&&this.loadingBar.error()}}a(l,"host","globetrotte.com"),a(l,"port"),a(l,"pathPrefix","/api/"),a(l,"delPrefix","del/"),a(l,"rateLimited","ratelimited"),a(l,"router",g),a(l,"loadingBar"),a(l,"failed",!1);class ee{constructor(e){a(this,"ID",-1);a(this,"label","");a(this,"URL","");a(this,"description","");e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.label=e.label!==void 0&&e.label!==null?e.label:"",this.URL=e.url!==void 0&&e.url!==null?e.url:"",this.description=e.description!==void 0&&e.description!==null?e.description:"")}toJsonKey(e){switch(e){case"ID":return"id";case"label":return"label";case"URL":return"url";case"description":return"description";default:return e}}}class te{constructor(e){a(this,"ID",-1);a(this,"tripID",0);a(this,"dayOf",0);a(this,"places",[]);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.tripID=e.trip_id!==void 0&&e.trip_id!==null?e.trip_id:0,this.dayOf=e.day_of!==void 0&&e.day_of!==null?e.day_of:0,this.places=e.places!==void 0&&e.places!==null?E(ee,e.places):[])}toJsonKey(e){switch(e){case"ID":return"id";case"tripID":return"trip_id";case"dayOf":return"day_of";case"places":return"places";default:return e}}}var V;(function(t){t[t.None=0]="None",t[t.View=1]="View",t[t.Edit=2]="Edit",t[t.Owner=3]="Owner"})(V||(V={}));var W=V;class ie{constructor(e){a(this,"ID",0);a(this,"objID",0);a(this,"userID",0);a(this,"access",W.None);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:0,this.objID=e.obj_id!==void 0&&e.obj_id!==null?e.obj_id:0,this.userID=e.user_id!==void 0&&e.user_id!==null?e.user_id:0,this.access=e.access!==void 0&&e.access!==null?e.access:W.None)}toJsonKey(e){switch(e){case"ID":return"id";case"objID":return"obj_id";case"userID":return"user_id";case"access":return"access";default:return e}}}var T;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SanFranciscoCAUS=1]="SanFranciscoCAUS",t[t.SanJoseCAUS=2]="SanJoseCAUS",t[t.NewYorkNYUS=3]="NewYorkNYUS",t[t.AnchorageAKUS=4]="AnchorageAKUS",t[t.ParisFR=5]="ParisFR",t[t.KualaLumpurMY=6]="KualaLumpurMY",t[t.GeorgeTownPGMY=7]="GeorgeTownPGMY",t[t.SeattleWAUS=8]="SeattleWAUS",t[t.WashingtonDCUS=9]="WashingtonDCUS",t[t.BostonMAUS=10]="BostonMAUS",t[t.PhoneixAZUS=11]="PhoneixAZUS",t[t.PageAZUS=12]="PageAZUS",t[t.LosAngelesCAUS=13]="LosAngelesCAUS",t[t.LasVegasNVUS=14]="LasVegasNVUS",t[t.SantaCruzCAUS=15]="SantaCruzCAUS"})(T||(T={}));var ae=T;class L{constructor(e){a(this,"ID",-1);a(this,"name","");a(this,"cities",[]);a(this,"days",[]);a(this,"description","");a(this,"private",!0);a(this,"sharedWith",[]);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.name=e.name!==void 0&&e.name!==null?e.name:"",this.cities=e.cities!==void 0&&e.cities!==null?E(ae,e.cities):[],this.days=e.days!==void 0&&e.days!==null?E(te,e.days):[],this.description=e.description!==void 0&&e.description!==null?e.description:"",this.private=e.private!==void 0&&e.private!==null?e.private:!0,this.sharedWith=e.shared_with!==void 0&&e.shared_with!==null?E(ie,e.shared_with):[])}toJsonKey(e){switch(e){case"ID":return"id";case"name":return"name";case"cities":return"cities";case"days":return"days";case"description":return"description";case"private":return"private";case"sharedWith":return"shared_with";default:return e}}}class w{constructor(e){a(this,"ID",-1);a(this,"name","");a(this,"email","");a(this,"bio","");a(this,"confirmed",!1);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.name=e.name!==void 0&&e.name!==null?e.name:"",this.email=e.email!==void 0&&e.email!==null?e.email:"",this.bio=e.bio!==void 0&&e.bio!==null?e.bio:"",this.confirmed=e.confirmed!==void 0&&e.confirmed!==null?e.confirmed:!1)}toJsonKey(e){switch(e){case"ID":return"id";case"name":return"name";case"email":return"email";case"bio":return"bio";case"confirmed":return"confirmed";default:return e}}}class re{constructor(e){a(this,"ID",-1);a(this,"details",new L);a(this,"user",new w);a(this,"timeCreated",new Date);a(this,"lastUpdated",new Date);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.details=e.details!==void 0&&e.details!==null?new L(e.details):new L,this.user=e.user!==void 0&&e.user!==null?new w(e.user):new w,this.timeCreated=e.time_created!==void 0&&e.time_created!==null?new Date(e.time_created):new Date,this.lastUpdated=e.last_updated!==void 0&&e.last_updated!==null?new Date(e.last_updated):new Date)}toJsonKey(e){switch(e){case"ID":return"id";case"details":return"details";case"user":return"user";case"timeCreated":return"time_created";case"lastUpdated":return"last_updated";default:return e}}}class A{constructor(e){a(this,"ID",-1);a(this,"details",new w);a(this,"trips",[]);a(this,"timeCreated",new Date);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.details=e.details!==void 0&&e.details!==null?new w(e.details):new w,this.trips=e.trips!==void 0&&e.trips!==null?E(L,e.trips):[],this.timeCreated=e.time_created!==void 0&&e.time_created!==null?new Date(e.time_created):new Date)}toJsonKey(e){switch(e){case"ID":return"id";case"details":return"details";case"trips":return"trips";case"timeCreated":return"time_created";default:return e}}}class p{static paramID(){try{return g.currentRoute.value.params.id}catch{return}}static notifConfig(e,i,r,s=2e3,n=50){return{message:i,title:e,type:r,duration:s,offset:n}}static async genUser(e){const i=await l.genGET("v2/user/"+e);return new A(i)}static async genTrip(e){const i=await l.genGET("v2/trip/"+e);return new re(i)}static getIsCurrentUser(e){return this.getCurrentUser().ID===e}static async genUpdateCurrentUser(){await this.genCurrentUser()}static async genCurrentUser(){const e=new A(await l.genGET("v2/whoami"));return e.ID===-1?localStorage.clear():localStorage.setItem("userobj",C.stringify(e)),this.getCurrentUser()}static getCurrentUser(){const e=localStorage.getItem("userobj");return e!==null?new A(JSON.parse(e)):new A}static authSession(){return this.getCurrentUser().ID!==-1}static confirmed(){return this.getCurrentUser().details.confirmed.valueOf()}static loadingBar(){try{return y()}catch{return null}}}class d{}a(d,"Landing","/"),a(d,"NotFound","/404"),a(d,"confirm_Email","/confirm/email"),a(d,"password_Reset","/password/reset"),a(d,"trip_View","/trip/view"),a(d,"trip_New","/trip/new"),a(d,"trip_Search","/trip/search"),a(d,"unconfirmed_Email","/unconfirmed/email"),a(d,"User","/user"),a(d,"Login","/login"),a(d,"MyAccount","/myaccount"),a(d,"RateLimited","/ratelimited"),a(d,"Refresh","/refresh"),a(d,"Register","/register");class U extends u{static async genRefreshRedirect(e,i=new Map,r=""){await this.genRedirectTo(d.Refresh,new Map(Object.entries({next:this.getSubPath(e,i,r).replaceAll("/",".slash.").replaceAll(":",".colon.").replaceAll("=",".equal.")})),"",!0)}}a(U,"router",g),a(U,"ratelimited",d.RateLimited),a(U,"default",d.Landing);const se={id:"app"},ne=_("Home"),ce=_("Trips"),oe=_("Search"),de=_("New"),ue=_("Login"),le=_("Register"),me=_("My Account"),pe=M("div",{id:"footerMargin"},[M("div",{id:"footer"})],-1);function he(t,e,i,r,s,n){const o=I("el-menu-item"),h=I("el-submenu"),N=I("el-menu"),G=I("router-view"),K=I("n-loading-bar-provider");return D(),Y("div",se,[v(K,null,{default:m(()=>[v(N,{class:"main_menu","default-active":t.activeIndex,mode:"horizontal",onSelect:t.handleSelect,"background-color":"#333","text-color":"white","active-text-color":"#42b983"},{default:m(()=>[v(o,{class:"main_menu_item",index:""},{default:m(()=>[ne]),_:1}),v(h,{class:"main_menu_item",index:"/trip"},{title:m(()=>[ce]),default:m(()=>[v(o,{class:"main_menu_item",index:"/trip/search"},{default:m(()=>[oe]),_:1}),t.confirmed?(D(),S(o,{key:0,class:"main_menu_item",index:"/trip/new"},{default:m(()=>[de]),_:1})):R("",!0)]),_:1}),t.authed?R("",!0):(D(),S(o,{key:0,class:"main_menu_item login_button",index:"/login"},{default:m(()=>[ue]),_:1})),t.authed?R("",!0):(D(),S(o,{key:1,class:"main_menu_item register_button",index:"/register"},{default:m(()=>[le]),_:1})),t.authed?(D(),S(o,{key:2,class:"main_menu_item myaccount_button",index:"/myaccount"},{default:m(()=>[me]),_:1})):R("",!0)]),_:1},8,["default-active","onSelect"]),v(G,{class:"content",id:"content"}),pe]),_:1})])}var _e=(t,e)=>{const i=t.__vccOpts||t;for(const[r,s]of e)i[r]=s;return i};const fe=Z({components:{NLoadingBarProvider:z},data(){return{activeIndex:"",authed:!1,confirmed:!1}},watch:{$route:{handler:function(){this.setAuthed(),this.setActiveIndex()},immediate:!0,deep:!0}},beforeMount(){this.setAuthed(),this.setActiveIndex()},methods:{beforeMount(){this.setAuthed(),this.setActiveIndex()},setAuthed(){this.$data.authed=p.authSession(),this.$data.confirmed=p.confirmed()},setActiveIndex(){let t=window.location.pathname;if(t.length<2){this.$data.activeIndex="";return}t.substring(t.length-1).localeCompare("/")===0&&(t=t.slice(0,-1));const e=t.split("/");isNaN(Number(e[e.length-1]))||(t=t.slice(0,-1*e[e.length-1].length-1)),this.$data.activeIndex=t},handleSelect(t){let e=t;e===this.$data.activeIndex||e===null||U.genRedirectTo(`${e}`)}}});var ve=_e(fe,[["render",he]]);x.defaults.withCredentials=!0;const O=Q(ve);O.use(X);g.beforeEach(async(t,e,i)=>{t.matched.some(r=>r.meta.loggedIn)?p.authSession()?i():i(u.addParamNext(d.Login,t.path)):t.matched.some(r=>r.meta.confirmed)?p.authSession()?p.confirmed()?i():i(u.addParamNext(d.unconfirmed_Email,t.path)):i(u.addParamNext(d.Login,t.path)):t.matched.some(r=>r.meta.unconfirmed)?p.authSession()?p.confirmed()?i(u.getNext(t)):i():i(u.addParamNext(d.Login,t.path)):t.matched.some(r=>r.meta.guest)&&p.authSession()?i(u.getNext(t)):i()});O.config.globalProperties.$router=g;O.use(g);O.mount("#app");export{ae as C,te as D,p as G,l as H,ee as P,U as R,re as T,A as U,_e as _,d as a,L as b,w as c,g as r};
