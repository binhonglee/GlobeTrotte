import{C as T,a as b}from"./CLoadingTripPreviewCard.dceb1ce5.js";import{r as i,o as r,c as n,a as o,e as a,f as $,w as k,F as l,g as d,p as S,b as N,h as P,i as q,_ as I,d as L,N as R,j as B,T as c,R as u,k as h}from"./index.80fe1401.js";import{C as _}from"./DataProps.89e46acc.js";import{C as F}from"./CHead.2fcdba10.js";import{N as H}from"./Input.b54642a3.js";import{N as j}from"./Select.396d9502.js";import"./CLink.b69f8d00.js";import"./CPlaces.76aa8247.js";const p=e=>(S("data-v-0925064a"),e=e(),N(),e),G={class:"landing"},K=p(()=>a("h1",{class:"title"},"GlobeTrotte",-1)),O=p(()=>a("h3",{class:"subtitle"},"Look for your next travel plan here!",-1)),U=p(()=>a("br",null,null,-1)),V={class:"tripSearchForm"},E=q("Find"),M={class:"homePageTripCarousel"};function A(e,t,C,W,z,D){const m=i("CHead"),v=i("n-input"),g=i("n-select"),y=i("n-button"),f=i("CLoadingTripPreviewCard"),w=i("CTripPreviewCard");return r(),n("div",G,[o(m,{description:"Welcome to GlobeTrotte - A travel itinerary crowdsourcing platform",type:"homepage"}),K,O,U,a("form",V,[o(v,{class:"tripSearchQueryInput",placeholder:"weekend",value:e.query,"onUpdate:value":t[0]||(t[0]=s=>e.query=s),onKeyup:$(e.search,["enter","native"])},null,8,["value","onKeyup"]),o(g,{class:"tripSearchCityInput",value:e.selectedCities,"onUpdate:value":t[1]||(t[1]=s=>e.selectedCities=s),options:e.possibleCities,filterable:"",multiple:"",placeholder:"City"},null,8,["value","options"]),o(y,{onClick:e.search},{default:k(()=>[E]),_:1},8,["onClick"])]),a("div",M,[e.trips.length===0?(r(),n(l,{key:0},d(10,s=>o(f,{key:s})),64)):(r(!0),n(l,{key:1},d(e.trips,s=>(r(),P(w,{trip:s},null,8,["trip"]))),256))])])}const Q=L({components:{NButton:R,NInput:H,NSelect:j,CTripPreviewCard:T,CHead:F,CLoadingTripPreviewCard:b},data:()=>({length:0,possibleCities:[],query:"",selectedCities:[],trips:[]}),async beforeMount(){this.$data.possibleCities=_.sortedCityOptions(),this.$data.trips=[];const e=await B.genGET("v2/sample_trips");for(const t of e)new c(t).details.days.length>0&&this.$data.trips.push(new c(t))},methods:{async search(){this.$data.query.length>0||this.$data.selectedCities.length>0||this.$data.length!==0||await u.genRedirectTo(h.trip_Search),await u.genRedirectTo(h.trip_Search,new Map(Object.entries({length:this.$data.length.toString(),query:this.$data.query,cities:_.citiesToString(this.$data.selectedCities)})))}}});var ie=I(Q,[["render",A],["__scopeId","data-v-0925064a"]]);export{ie as default};
