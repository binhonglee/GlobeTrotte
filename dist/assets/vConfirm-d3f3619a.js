import{d as p,N as k,R as r,r as h,o as c,c as l,e as o,i as s,t as u,a as d,g as _,p as b,b as f,_ as m}from"./index-147973cf.js";const g=p({components:{NButton:k},data(){return{link:"",broken:!1}},async beforeMount(){var a;const t=r.getParamMap();if(t.size===0||!t.has("link")){this.$data.broken=!0;return}if(this.$data.link=decodeURIComponent((((a=t.get("link"))==null?void 0:a.trim())??"").split("&dots&").join(".").split(".pct.").join("%")),!this.$data.link.startsWith("https://")){this.$data.broken=!0;return}let e=this.$data.link;e.startsWith("https://")&&(e=e.substring(8)),e.startsWith("globetrotte.com")?await r.genRedirectTo(e.substring(15)):e.startsWith("www.globetrotte.com")&&await r.genRedirectTo(e.substring(19))},methods:{close(){window.close()}}}),n=t=>(b("data-v-45802eb1"),t=t(),f(),t),v={class:"leaving_confirm narrow_content"},w={key:0,class:"nonBrokenLink"},C=n(()=>o("h1",{class:"title"},"You are leaving GlobeTrotte...",-1)),y={class:"content"},B=n(()=>o("br",null,null,-1)),$=["href"],R={key:1,class:"brokenLink"},T=n(()=>o("h1",{class:"title"},"Broken link",-1)),I=n(()=>o("p",{class:"content"},"Seems like this link is broken. ðŸ˜¥",-1));function N(t,e,a,S,M,W){const i=h("n-button");return c(),l("div",v,[t.broken?(c(),l("div",R,[T,I,d(i,{onClick:t.close},{default:_(()=>[s("Back to GlobeTrotte")]),_:1},8,["onClick"])])):(c(),l("div",w,[C,o("p",y,[s("Make sure you want to proceed to"),B,o("a",{class:"externalURL",href:t.link},u(t.link),9,$)]),d(i,{class:"backButton",onClick:t.close},{default:_(()=>[s("Back to GlobeTrotte")]),_:1},8,["onClick"]),d(i,{type:"primary",tag:"a",href:t.link},{default:_(()=>[s("Proceed")]),_:1},8,["href"])]))])}const L=m(g,[["render",N],["__scopeId","data-v-45802eb1"]]);export{L as default};
