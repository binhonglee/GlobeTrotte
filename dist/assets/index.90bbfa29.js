var G=Object.defineProperty;var q=(t,e,r)=>e in t?G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var i=(t,e,r)=>(q(t,typeof e!="symbol"?e+"":e,r),r);import{a as V,c as J,b as Y,u as M,p as I,W as C,r as p,o as D,d as Z,e as _,w as l,f as R,g as A,h as v,i as x,j as z,N as Q,k as X,l as H,m as b,n as j,q as ee,s as te}from"./vendor.66be6b0f.js";const ie=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};ie();class y{static async genRedirect(e,r,a=!1,s=null){s!==null&&e.currentRoute.value.path.startsWith(s)&&!a||await e.push(r)}}class m{static async genNewTab(e,r=new Map,a=""){e!=="/"&&(e=this.getSubPath(e,r,a)),window.open(this.siteURI+e)}static async genRedirectTo(e,r=new Map,a="",s=!1){e!=="/"&&(e=this.getSubPath(e,r,a)),await y.genRedirect(this.router,e,s,this.ratelimited)}static getParamMap(){const e=this.router.currentRoute.value.params.params;return this.paramMapFromString(e)}static paramMapFromString(e){if(e===void 0||!e.startsWith(":"))return new Map;e=e.substring(1);const r=e.split(":"),a=new Map;return r.forEach(s=>{const o=s.split("=");o.length===2&&a.set(o[0],o[1])}),a}static setParamMap(e){let r="";return e.forEach((a,s)=>{r+=":"+s+"="+a}),r}static hasNext(){return this.getParamMap().has("next")}static addParamNext(e,r,a=new Map){var c,f;r.startsWith("/")&&(r=r.substring(1));const s=r.split("&"),o=(f=(c=s.shift())==null?void 0:c.split("/").join("."))!=null?f:"";return s.length>0?r=o+"&"+s.join(""):r=o,a.set("next",r),e+"/"+this.setParamMap(a)}static getSubPath(e,r,a){return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e+(a.length>0?"/"+a:"")+"/"+this.setParamMap(r)}static async paramToNext(e=new Map,r=!1){const a=this.getParamMap().get("next");await this.genRedirectTo(this.next(a!=null?a:this.default),e,"",r)}static getNext(e,r=new Map){const a=this.paramMapFromString(e.params.params).get("next");return this.next(a!=null?a:this.default,r)}static fakeGetNext(e=new Map,r=this.default){return this.next(r,e)}static next(e,r=new Map){var o,c;if(e===void 0||e.length<2)return r.delete("next"),"/"+this.setParamMap(r);const a=e.split("&");let s="";for(;s===""||s===void 0;)s=(c=(o=a.shift())==null?void 0:o.split(".").join("/"))!=null?c:"";return e=s,a.length>0&&r.set("next",a.join("&")),"/"+(e.length>0?e+"/":"")+this.setParamMap(r)}}i(m,"siteURI"),i(m,"router"),i(m,"ratelimited"),i(m,"default");class g{static beforeSendRequest(){}static sendRequestSuccess(){}static sendRequestFailure(){}static async genGET(e){return this.genSendRequest(this.getRouter(),e,"GET")}static async genDELETE(e,r=""){return this.genSendRequest(this.getRouter(),this.delPrefix+e,"POST",r)}static async genPOST(e,r){return this.genSendRequest(this.getRouter(),e,"POST",r)}static getURI(e){return"https://"+this.host+(this.port===void 0?"":":"+this.port)+this.pathPrefix+e}static async genSendRequest(e,r,a,s=""){this.beforeSendRequest();const o={method:a,url:this.getURI(r)};s.length>0&&(o.data=s.split(`
`).join("\\n"));try{const c=(await V.request(o)).data;return!e.currentRoute.value.path.startsWith(this.rateLimited)&&c===this.rateLimited?(this.sendRequestSuccess(),await y.genRedirect(e,m.addParamNext(this.rateLimited,e.currentRoute.value.path),!1,this.rateLimited),""):(this.sendRequestSuccess(),c)}catch{return this.sendRequestFailure(),""}}static getRouter(){if(this.router===void 0||this.router===null)throw new ReferenceError("Router is null or undefined.");return this.router}}i(g,"host"),i(g,"port"),i(g,"pathPrefix"),i(g,"delPrefix"),i(g,"rateLimited"),i(g,"router");const re="modulepreload",T={},ae="/",n=function(e,r){return!r||r.length===0?e():Promise.all(r.map(a=>{if(a=`${ae}${a}`,a in T)return;T[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${o}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":re,s||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),s)return new Promise((f,O)=>{c.addEventListener("load",f),c.addEventListener("error",O)})})).then(()=>e())};var P=J({history:Y(),routes:[{path:"/:pathMatch(.*)",name:"404",component:()=>n(()=>import("./vNotFound.a0055233.js"),["assets/vNotFound.a0055233.js","assets/vNotFound.25c8ba38.css","assets/vendor.66be6b0f.js"])},{path:"/",name:"landing",component:()=>n(()=>import("./vLanding.84f22f24.js"),["assets/vLanding.84f22f24.js","assets/vLanding.58533757.css","assets/CTripPreviewCard.7198eb21.js","assets/CTripPreviewCard.fce393f7.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/vendor.66be6b0f.js","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/DataProps.c8befecc.js"])},{path:"/confirm/email",name:"confirm/EmailIndex",component:()=>n(()=>import("./vIDEmail.661f98e0.js"),["assets/vIDEmail.661f98e0.js","assets/vIDEmail.f0546753.css","assets/vendor.66be6b0f.js"])},{path:"/confirm/email/:id",name:"confirm/Email",component:()=>n(()=>import("./vIDEmail.661f98e0.js"),["assets/vIDEmail.661f98e0.js","assets/vIDEmail.f0546753.css","assets/vendor.66be6b0f.js"])},{path:"/confirm/email/:id/:params",name:"confirm/EmailParams",component:()=>n(()=>import("./vIDEmail.661f98e0.js"),["assets/vIDEmail.661f98e0.js","assets/vIDEmail.f0546753.css","assets/vendor.66be6b0f.js"])},{path:"/leaving/confirm",name:"leaving/Confirm",component:()=>n(()=>import("./vConfirm.4be039b7.js"),["assets/vConfirm.4be039b7.js","assets/vConfirm.38636f3a.css","assets/vendor.66be6b0f.js"])},{path:"/leaving/confirm/:params",name:"leaving/ConfirmParams",component:()=>n(()=>import("./vConfirm.4be039b7.js"),["assets/vConfirm.4be039b7.js","assets/vConfirm.38636f3a.css","assets/vendor.66be6b0f.js"])},{path:"/password/reset",name:"password/Reset",component:()=>n(()=>import("./vReset.0d448498.js"),["assets/vReset.0d448498.js","assets/vReset.f39cdefd.css","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/vendor.66be6b0f.js","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css"])},{path:"/password/reset/:params",name:"password/ResetParams",component:()=>n(()=>import("./vReset.0d448498.js"),["assets/vReset.0d448498.js","assets/vReset.f39cdefd.css","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/vendor.66be6b0f.js","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css"])},{path:"/trip/view",name:"trip/ViewIndex",component:()=>n(()=>import("./vIDView.d9b49402.js"),["assets/vIDView.d9b49402.js","assets/vIDView.38b3f0f9.css","assets/vendor.66be6b0f.js","assets/CEditTrip.6b921a5e.js","assets/CEditTrip.fc5053b9.css","assets/DataProps.c8befecc.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/NaiveUtils.48db569e.js","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/CShare.312bd111.js"])},{path:"/trip/view/:id",name:"trip/View",component:()=>n(()=>import("./vIDView.d9b49402.js"),["assets/vIDView.d9b49402.js","assets/vIDView.38b3f0f9.css","assets/vendor.66be6b0f.js","assets/CEditTrip.6b921a5e.js","assets/CEditTrip.fc5053b9.css","assets/DataProps.c8befecc.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/NaiveUtils.48db569e.js","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/CShare.312bd111.js"])},{path:"/trip/view/:id/:params",name:"trip/ViewParams",component:()=>n(()=>import("./vIDView.d9b49402.js"),["assets/vIDView.d9b49402.js","assets/vIDView.38b3f0f9.css","assets/vendor.66be6b0f.js","assets/CEditTrip.6b921a5e.js","assets/CEditTrip.fc5053b9.css","assets/DataProps.c8befecc.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/NaiveUtils.48db569e.js","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/CShare.312bd111.js"])},{path:"/trip/new",name:"trip/New",meta:{confirmed:!0},component:()=>n(()=>import("./vNew.397609d2.js"),["assets/vNew.397609d2.js","assets/vendor.66be6b0f.js","assets/CEditTrip.6b921a5e.js","assets/CEditTrip.fc5053b9.css","assets/DataProps.c8befecc.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/NaiveUtils.48db569e.js"])},{path:"/trip/new/:params",name:"trip/NewParams",meta:{confirmed:!0},component:()=>n(()=>import("./vNew.397609d2.js"),["assets/vNew.397609d2.js","assets/vendor.66be6b0f.js","assets/CEditTrip.6b921a5e.js","assets/CEditTrip.fc5053b9.css","assets/DataProps.c8befecc.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/NaiveUtils.48db569e.js"])},{path:"/trip/search",name:"trip/Search",component:()=>n(()=>import("./vSearch.c66bed3b.js"),["assets/vSearch.c66bed3b.js","assets/vSearch.b8ecb2d7.css","assets/CTripPreviewCard.7198eb21.js","assets/CTripPreviewCard.fce393f7.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/vendor.66be6b0f.js","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/DataProps.c8befecc.js","assets/TripUtil.cf3da4e6.js"])},{path:"/trip/search/:params",name:"trip/SearchParams",component:()=>n(()=>import("./vSearch.c66bed3b.js"),["assets/vSearch.c66bed3b.js","assets/vSearch.b8ecb2d7.css","assets/CTripPreviewCard.7198eb21.js","assets/CTripPreviewCard.fce393f7.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/vendor.66be6b0f.js","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/DataProps.c8befecc.js","assets/TripUtil.cf3da4e6.js"])},{path:"/unconfirmed/email",name:"unconfirmed/Email",component:()=>n(()=>import("./vEmail.012e3be9.js"),["assets/vEmail.012e3be9.js","assets/vEmail.7b472a27.css","assets/vendor.66be6b0f.js"])},{path:"/unconfirmed/email/:params",name:"unconfirmed/EmailParams",component:()=>n(()=>import("./vEmail.012e3be9.js"),["assets/vEmail.012e3be9.js","assets/vEmail.7b472a27.css","assets/vendor.66be6b0f.js"])},{path:"/user",name:"UserIndex",component:()=>n(()=>import("./vIDUser.8e43a1ad.js"),["assets/vIDUser.8e43a1ad.js","assets/vIDUser.319d1302.css","assets/CViewUser.e999d3f7.js","assets/CViewUser.060dec25.css","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/vendor.66be6b0f.js","assets/CShare.312bd111.js","assets/NaiveUtils.48db569e.js","assets/CTripPreviewCard.7198eb21.js","assets/CTripPreviewCard.fce393f7.css","assets/DataProps.c8befecc.js","assets/TripUtil.cf3da4e6.js"])},{path:"/user/:id",name:"User",component:()=>n(()=>import("./vIDUser.8e43a1ad.js"),["assets/vIDUser.8e43a1ad.js","assets/vIDUser.319d1302.css","assets/CViewUser.e999d3f7.js","assets/CViewUser.060dec25.css","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/vendor.66be6b0f.js","assets/CShare.312bd111.js","assets/NaiveUtils.48db569e.js","assets/CTripPreviewCard.7198eb21.js","assets/CTripPreviewCard.fce393f7.css","assets/DataProps.c8befecc.js","assets/TripUtil.cf3da4e6.js"])},{path:"/user/:id/:params",name:"UserParams",component:()=>n(()=>import("./vIDUser.8e43a1ad.js"),["assets/vIDUser.8e43a1ad.js","assets/vIDUser.319d1302.css","assets/CViewUser.e999d3f7.js","assets/CViewUser.060dec25.css","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/vendor.66be6b0f.js","assets/CShare.312bd111.js","assets/NaiveUtils.48db569e.js","assets/CTripPreviewCard.7198eb21.js","assets/CTripPreviewCard.fce393f7.css","assets/DataProps.c8befecc.js","assets/TripUtil.cf3da4e6.js"])},{path:"/login",name:"Login",meta:{guest:!0},component:()=>n(()=>import("./vLogin.3aa1985a.js"),["assets/vLogin.3aa1985a.js","assets/vLogin.b081c2ec.css","assets/vendor.66be6b0f.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/NaiveUtils.48db569e.js"])},{path:"/login/:params",name:"LoginParams",meta:{guest:!0},component:()=>n(()=>import("./vLogin.3aa1985a.js"),["assets/vLogin.3aa1985a.js","assets/vLogin.b081c2ec.css","assets/vendor.66be6b0f.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/NaiveUtils.48db569e.js"])},{path:"/myaccount",name:"MyAccount",meta:{loggedIn:!0},component:()=>n(()=>import("./vMyAccount.4eb9e56c.js"),["assets/vMyAccount.4eb9e56c.js","assets/vMyAccount.642008d9.css","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/vendor.66be6b0f.js","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/CViewUser.e999d3f7.js","assets/CViewUser.060dec25.css","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/CShare.312bd111.js","assets/NaiveUtils.48db569e.js","assets/CTripPreviewCard.7198eb21.js","assets/CTripPreviewCard.fce393f7.css","assets/DataProps.c8befecc.js","assets/TripUtil.cf3da4e6.js"])},{path:"/myaccount/:params",name:"MyAccountParams",meta:{loggedIn:!0},component:()=>n(()=>import("./vMyAccount.4eb9e56c.js"),["assets/vMyAccount.4eb9e56c.js","assets/vMyAccount.642008d9.css","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/vendor.66be6b0f.js","assets/CLink.255b5f0d.js","assets/CLink.bbfc0b4f.css","assets/CViewUser.e999d3f7.js","assets/CViewUser.060dec25.css","assets/CPlaces.47e12545.js","assets/CPlaces.a58ad624.css","assets/CShare.312bd111.js","assets/NaiveUtils.48db569e.js","assets/CTripPreviewCard.7198eb21.js","assets/CTripPreviewCard.fce393f7.css","assets/DataProps.c8befecc.js","assets/TripUtil.cf3da4e6.js"])},{path:"/ratelimited",name:"RateLimited",component:()=>n(()=>import("./vRateLimited.a31cd05a.js"),["assets/vRateLimited.a31cd05a.js","assets/vendor.66be6b0f.js"])},{path:"/ratelimited/:params",name:"RateLimitedParams",component:()=>n(()=>import("./vRateLimited.a31cd05a.js"),["assets/vRateLimited.a31cd05a.js","assets/vendor.66be6b0f.js"])},{path:"/refresh",name:"Refresh",component:()=>n(()=>import("./vRefresh.14b4ed8f.js"),["assets/vRefresh.14b4ed8f.js","assets/vendor.66be6b0f.js"])},{path:"/refresh/:params",name:"RefreshParams",component:()=>n(()=>import("./vRefresh.14b4ed8f.js"),["assets/vRefresh.14b4ed8f.js","assets/vendor.66be6b0f.js"])},{path:"/register",name:"Register",meta:{guest:!0},component:()=>n(()=>import("./vRegister.79ee9d5e.js"),["assets/vRegister.79ee9d5e.js","assets/vendor.66be6b0f.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/NaiveUtils.48db569e.js"])},{path:"/register/:params",name:"RegisterParams",meta:{guest:!0},component:()=>n(()=>import("./vRegister.79ee9d5e.js"),["assets/vRegister.79ee9d5e.js","assets/vendor.66be6b0f.js","assets/E.7aad2b2f.js","assets/E.66531e98.css","assets/NaiveUtils.48db569e.js"])}]});class u extends g{static beforeSendRequest(){try{this.loadingBar=M(),this.loadingBar.start(),this.failed=!1}catch{this.failed=!0}}static getAbsoluteURL(e,r=""){return"https://"+this.host+(this.selfPort===void 0?"":":"+this.selfPort)+e+"/"+r}static sendRequestSuccess(){!this.failed&&this.loadingBar!==void 0&&this.loadingBar.finish()}static sendRequestFailure(){!this.failed&&this.loadingBar!==void 0&&this.loadingBar.error()}}i(u,"host","globetrotte.com"),i(u,"selfPort"),i(u,"port"),i(u,"pathPrefix","/api/"),i(u,"delPrefix","del/"),i(u,"rateLimited","ratelimited"),i(u,"router",P),i(u,"loadingBar"),i(u,"failed",!1);class se{constructor(e){i(this,"ID",-1);i(this,"fromPlaceID",0);i(this,"toPlaceID",0);i(this,"toPlaceIndex",0);i(this,"timeInMinutes",0);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.fromPlaceID=e.from_place_id!==void 0&&e.from_place_id!==null?e.from_place_id:0,this.toPlaceID=e.to_place_id!==void 0&&e.to_place_id!==null?e.to_place_id:0,this.toPlaceIndex=e.to_place_index!==void 0&&e.to_place_index!==null?e.to_place_index:0,this.timeInMinutes=e.time_in_minutes!==void 0&&e.time_in_minutes!==null?e.time_in_minutes:0)}toJsonKey(e){switch(e){case"ID":return"id";case"fromPlaceID":return"from_place_id";case"toPlaceID":return"to_place_id";case"toPlaceIndex":return"to_place_index";case"timeInMinutes":return"time_in_minutes";default:return e}}}class ne{constructor(e){i(this,"ID",-1);i(this,"label","");i(this,"URL","");i(this,"description","");e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.label=e.label!==void 0&&e.label!==null?e.label:"",this.URL=e.url!==void 0&&e.url!==null?e.url:"",this.description=e.description!==void 0&&e.description!==null?e.description:"")}toJsonKey(e){switch(e){case"ID":return"id";case"label":return"label";case"URL":return"url";case"description":return"description";default:return e}}}class oe{constructor(e){i(this,"ID",-1);i(this,"tripID",0);i(this,"dayOf",0);i(this,"places",[]);i(this,"travelTime",[]);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.tripID=e.trip_id!==void 0&&e.trip_id!==null?e.trip_id:0,this.dayOf=e.day_of!==void 0&&e.day_of!==null?e.day_of:0,this.places=e.places!==void 0&&e.places!==null?I(ne,e.places):[],this.travelTime=e.travel_time!==void 0&&e.travel_time!==null?I(se,e.travel_time):[])}toJsonKey(e){switch(e){case"ID":return"id";case"tripID":return"trip_id";case"dayOf":return"day_of";case"places":return"places";case"travelTime":return"travel_time";default:return e}}}var N=(t=>(t[t.None=0]="None",t[t.View=1]="View",t[t.Edit=2]="Edit",t[t.Owner=3]="Owner",t))(N||{});class ce{constructor(e){i(this,"ID",0);i(this,"objID",0);i(this,"userID",0);i(this,"access",N.None);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:0,this.objID=e.obj_id!==void 0&&e.obj_id!==null?e.obj_id:0,this.userID=e.user_id!==void 0&&e.user_id!==null?e.user_id:0,this.access=e.access!==void 0&&e.access!==null?e.access:N.None)}toJsonKey(e){switch(e){case"ID":return"id";case"objID":return"obj_id";case"userID":return"user_id";case"access":return"access";default:return e}}}var B=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.SanFranciscoCAUS=1]="SanFranciscoCAUS",t[t.SanJoseCAUS=2]="SanJoseCAUS",t[t.NewYorkNYUS=3]="NewYorkNYUS",t[t.AnchorageAKUS=4]="AnchorageAKUS",t[t.ParisFR=5]="ParisFR",t[t.KualaLumpurMY=6]="KualaLumpurMY",t[t.GeorgeTownPGMY=7]="GeorgeTownPGMY",t[t.SeattleWAUS=8]="SeattleWAUS",t[t.WashingtonDCUS=9]="WashingtonDCUS",t[t.BostonMAUS=10]="BostonMAUS",t[t.PhoneixAZUS=11]="PhoneixAZUS",t[t.PageAZUS=12]="PageAZUS",t[t.LosAngelesCAUS=13]="LosAngelesCAUS",t[t.LasVegasNVUS=14]="LasVegasNVUS",t[t.SantaCruzCAUS=15]="SantaCruzCAUS",t[t.HonoluluHIUS=16]="HonoluluHIUS",t[t.MauiHIUS=17]="MauiHIUS",t))(B||{});class U{constructor(e){i(this,"ID",-1);i(this,"name","");i(this,"cities",[]);i(this,"days",[]);i(this,"description","");i(this,"private",!0);i(this,"sharedWith",[]);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.name=e.name!==void 0&&e.name!==null?e.name:"",this.cities=e.cities!==void 0&&e.cities!==null?I(B,e.cities):[],this.days=e.days!==void 0&&e.days!==null?I(oe,e.days):[],this.description=e.description!==void 0&&e.description!==null?e.description:"",this.private=e.private!==void 0&&e.private!==null?e.private:!0,this.sharedWith=e.shared_with!==void 0&&e.shared_with!==null?I(ce,e.shared_with):[])}toJsonKey(e){switch(e){case"ID":return"id";case"name":return"name";case"cities":return"cities";case"days":return"days";case"description":return"description";case"private":return"private";case"sharedWith":return"shared_with";default:return e}}}class w{constructor(e){i(this,"ID",-1);i(this,"username","");i(this,"name","");i(this,"email","");i(this,"bio","");i(this,"link","");i(this,"confirmed",!1);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.username=e.username!==void 0&&e.username!==null?e.username:"",this.name=e.name!==void 0&&e.name!==null?e.name:"",this.email=e.email!==void 0&&e.email!==null?e.email:"",this.bio=e.bio!==void 0&&e.bio!==null?e.bio:"",this.link=e.link!==void 0&&e.link!==null?e.link:"",this.confirmed=e.confirmed!==void 0&&e.confirmed!==null?e.confirmed:!1)}toJsonKey(e){switch(e){case"ID":return"id";case"username":return"username";case"name":return"name";case"email":return"email";case"bio":return"bio";case"link":return"link";case"confirmed":return"confirmed";default:return e}}}class de{constructor(e){i(this,"ID",-1);i(this,"details",new U);i(this,"user",new w);i(this,"timeCreated",new Date);i(this,"lastUpdated",new Date);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.details=e.details!==void 0&&e.details!==null?new U(e.details):new U,this.user=e.user!==void 0&&e.user!==null?new w(e.user):new w,this.timeCreated=e.time_created!==void 0&&e.time_created!==null?new Date(e.time_created):new Date,this.lastUpdated=e.last_updated!==void 0&&e.last_updated!==null?new Date(e.last_updated):new Date)}toJsonKey(e){switch(e){case"ID":return"id";case"details":return"details";case"user":return"user";case"timeCreated":return"time_created";case"lastUpdated":return"last_updated";default:return e}}}class E{constructor(e){i(this,"ID",-1);i(this,"details",new w);i(this,"trips",[]);i(this,"timeCreated",new Date);e&&(this.ID=e.id!==void 0&&e.id!==null?e.id:-1,this.details=e.details!==void 0&&e.details!==null?new w(e.details):new w,this.trips=e.trips!==void 0&&e.trips!==null?I(U,e.trips):[],this.timeCreated=e.time_created!==void 0&&e.time_created!==null?new Date(e.time_created):new Date)}toJsonKey(e){switch(e){case"ID":return"id";case"details":return"details";case"trips":return"trips";case"timeCreated":return"time_created";default:return e}}}class h{static paramID(){try{return P.currentRoute.value.params.id}catch{return}}static notifConfig(e,r,a,s=2e3,o=50){return{message:r,title:e,type:a,duration:s,offset:o}}static async genUser(e){const r=await u.genGET("v2/user/"+e);return new E(r)}static async genFromUsername(e){const r=await u.genGET("username/"+e);return new E(r)}static async genTrip(e){const r=await u.genGET("v2/trip/"+e);return new de(r)}static getIsCurrentUser(e){return this.getCurrentUser().ID===e}static async genUpdateCurrentUser(){await this.genCurrentUser()}static async genCurrentUser(){const e=new E(await u.genGET("v2/whoami"));return e.ID===-1?localStorage.clear():localStorage.setItem("userobj",C.stringify(e)),this.getCurrentUser()}static getCurrentUser(){const e=localStorage.getItem("userobj");return e!==null?new E(JSON.parse(e)):new E}static authSession(){return this.getCurrentUser().ID!==-1}static confirmed(){return this.getCurrentUser().details.confirmed.valueOf()}static loadingBar(){try{return M()}catch{return null}}static getDisplayDate(e){return e.toDateString().substring(4)}}class d{}i(d,"Landing","/"),i(d,"NotFound","/404"),i(d,"confirm_Email","/confirm/email"),i(d,"leaving_Confirm","/leaving/confirm"),i(d,"password_Reset","/password/reset"),i(d,"trip_View","/trip/view"),i(d,"trip_New","/trip/new"),i(d,"trip_Search","/trip/search"),i(d,"unconfirmed_Email","/unconfirmed/email"),i(d,"User","/user"),i(d,"Login","/login"),i(d,"MyAccount","/myaccount"),i(d,"RateLimited","/ratelimited"),i(d,"Refresh","/refresh"),i(d,"Register","/register");class S extends m{static async genRefreshRedirect(e,r=new Map,a=""){await this.genRedirectTo(d.Refresh,new Map(Object.entries({next:this.getSubPath(e,r,a).replaceAll("/",".slash.").replaceAll(":",".colon.").replaceAll("=",".equal.")})),"",!0)}}i(S,"siteURI","https://globetrotte.com"),i(S,"router",P),i(S,"ratelimited",d.RateLimited),i(S,"default",d.Landing);const le={id:"app"},ue=v("Home"),me=v("Trips"),_e=v("Search"),pe=v("New"),he=v("Login"),fe=v("Register"),ge=v("My Account"),ve=x("div",{id:"footerMargin"},[x("div",{id:"footer"})],-1);function Ie(t,e,r,a,s,o){const c=p("el-menu-item"),f=p("el-submenu"),O=p("el-menu"),W=p("router-view"),$=p("n-message-provider"),k=p("n-dialog-provider"),K=p("n-loading-bar-provider"),F=p("n-config-provider");return D(),Z("div",le,[_(F,{theme:t.theme},{default:l(()=>[_(K,null,{default:l(()=>[_(k,null,{default:l(()=>[_($,null,{default:l(()=>[_(O,{class:"main_menu","default-active":t.activeIndex,mode:"horizontal",onSelect:t.handleSelect,"background-color":"#333","text-color":"white","active-text-color":"#42b983"},{default:l(()=>[_(c,{class:"main_menu_item",index:""},{default:l(()=>[ue]),_:1}),_(f,{class:"main_menu_item",index:"/trip"},{title:l(()=>[me]),default:l(()=>[_(c,{class:"main_menu_item",index:"/trip/search"},{default:l(()=>[_e]),_:1}),t.confirmed?(D(),R(c,{key:0,class:"main_menu_item",index:"/trip/new"},{default:l(()=>[pe]),_:1})):A("",!0)]),_:1}),t.authed?A("",!0):(D(),R(c,{key:0,class:"main_menu_item login_button",index:"/login"},{default:l(()=>[he]),_:1})),t.authed?A("",!0):(D(),R(c,{key:1,class:"main_menu_item register_button",index:"/register"},{default:l(()=>[fe]),_:1})),t.authed?(D(),R(c,{key:2,class:"main_menu_item myaccount_button",index:"/myaccount"},{default:l(()=>[ge]),_:1})):A("",!0)]),_:1},8,["default-active","onSelect"]),_(W,{class:"content",id:"content"}),ve]),_:1})]),_:1})]),_:1})]),_:1},8,["theme"])])}var we=(t,e)=>{const r=t.__vccOpts||t;for(const[a,s]of e)r[a]=s;return r};const Pe=z({components:{NConfigProvider:Q,NDialogProvider:X,NLoadingBarProvider:H,NMessageProvider:b},data(){return{activeIndex:"",authed:!1,confirmed:!1,theme:j}},watch:{$route:{handler:function(){this.setAuthed(),this.setActiveIndex()},immediate:!0,deep:!1}},beforeMount(){this.setAuthed(),this.setActiveIndex()},methods:{beforeMount(){this.setAuthed(),this.setActiveIndex()},setAuthed(){this.$data.authed=h.authSession(),this.$data.confirmed=h.confirmed()},setActiveIndex(){let t=window.location.pathname;if(t.length<2){this.$data.activeIndex="";return}t.substring(t.length-1).localeCompare("/")===0&&(t=t.slice(0,-1));const e=t.split("/");isNaN(Number(e[e.length-1]))||(t=t.slice(0,-1*e[e.length-1].length-1)),this.$data.activeIndex=t},handleSelect(t){let e=t;e===this.$data.activeIndex||e===null||S.genRedirectTo(`${e}`)}}});var De=we(Pe,[["render",Ie]]);V.defaults.withCredentials=!0;const L=ee(De);L.use(te);P.beforeEach(async(t,e,r)=>{t.matched.some(a=>a.meta.loggedIn)?h.authSession()?r():r(m.addParamNext(d.Login,t.path)):t.matched.some(a=>a.meta.confirmed)?h.authSession()?h.confirmed()?r():r(m.addParamNext(d.unconfirmed_Email,t.path)):r(m.addParamNext(d.Login,t.path)):t.matched.some(a=>a.meta.unconfirmed)?h.authSession()?h.confirmed()?r(m.getNext(t)):r():r(m.addParamNext(d.Login,t.path)):t.matched.some(a=>a.meta.guest)&&h.authSession()?r(m.getNext(t)):r()});L.config.globalProperties.$router=P;L.use(P);L.mount("#app");export{B as C,oe as D,h as G,u as H,ne as P,S as R,de as T,E as U,we as _,d as a,se as b,U as c,w as d,P as r};
