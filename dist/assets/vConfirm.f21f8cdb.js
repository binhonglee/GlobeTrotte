import{d as k,N as h,R as c,r as u,o as l,c as d,e as o,j as s,t as b,a as _,w as p,p as f,b as m,_ as g}from"./index.54f8d9e0.js";const v=k({components:{NButton:h},data(){return{link:"",broken:!1}},async beforeMount(){var a,i;const t=c.getParamMap();if(t.size===0||!t.has("link")){this.$data.broken=!0;return}if(this.$data.link=decodeURIComponent(((i=(a=t.get("link"))==null?void 0:a.trim())!=null?i:"").split("&dots&").join(".").split(".pct.").join("%")),!this.$data.link.startsWith("https://")){this.$data.broken=!0;return}let e=this.$data.link;e.startsWith("https://")&&(e=e.substring(8)),e.startsWith("globetrotte.com")?await c.genRedirectTo(e.substring(15)):e.startsWith("www.globetrotte.com")&&await c.genRedirectTo(e.substring(19))},methods:{close(){window.close()}}}),n=t=>(f("data-v-45802eb1"),t=t(),m(),t),w={class:"leaving_confirm narrow_content"},C={key:0,class:"nonBrokenLink"},y=n(()=>o("h1",{class:"title"},"You are leaving GlobeTrotte...",-1)),B={class:"content"},$=n(()=>o("br",null,null,-1)),R=["href"],T={key:1,class:"brokenLink"},I=n(()=>o("h1",{class:"title"},"Broken link",-1)),N=n(()=>o("p",{class:"content"},"Seems like this link is broken. \u{1F625}",-1));function S(t,e,a,i,M,W){const r=u("n-button");return l(),d("div",w,[t.broken?(l(),d("div",T,[I,N,_(r,{onClick:t.close},{default:p(()=>[s("Back to GlobeTrotte")]),_:1},8,["onClick"])])):(l(),d("div",C,[y,o("p",B,[s("Make sure you want to proceed to"),$,o("a",{class:"externalURL",href:t.link},b(t.link),9,R)]),_(r,{class:"backButton",onClick:t.close},{default:p(()=>[s("Back to GlobeTrotte")]),_:1},8,["onClick"]),_(r,{type:"primary",tag:"a",href:t.link},{default:p(()=>[s("Proceed")]),_:1},8,["href"])]))])}const G=g(v,[["render",S],["__scopeId","data-v-45802eb1"]]);export{G as default};
