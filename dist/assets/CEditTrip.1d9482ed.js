import{defineComponent as M,h as b,ref as F,toRef as et,watch as tt,computed as nt,openBlock as C,createElementBlock as I,createElementVNode as d,resolveComponent as c,Fragment as Ce,renderList as $e,createVNode as l,withCtx as g,createBlock as te,createCommentVNode as Te,normalizeClass as De,createTextVNode as x,toDisplayString as at}from"vue";import{P as pe,a as it,D as fe,C as Q}from"./DataProps.0be84455.js";import{i as st,e as lt,u as rt,j as Ne,J as ot,I as dt,K as O,k as ut,au as ct,av as he,A as me,aw as pt,Q as ve,q as P,N as ne,d as ft,ax as ke,_ as ae,c as ht,D as mt,T as ie,ao as Ie,a as Re,ay as vt,az as gt,R as _t,b as yt}from"./index.18ba2282.js";import{u as wt,N as xe}from"./Input.6596a750.js";import{C as bt,D as Y,E,N as Ct,a as ge}from"./E.7cace6b2.js";import{N as j,a as _e}from"./NaiveUtils.2ea9fd11.js";import{C as $t,F as Tt,a as Dt,b as Nt,P as kt}from"./CacheStorage.97a6bb6c.js";import{N as It}from"./Select.1f9bf9a6.js";var Rt=M({name:"Add",render(){return b("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),xt=M({name:"Remove",render(){return b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},b("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}});function Mt(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function Ot(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function Z(e){return e==null?!0:!Number.isNaN(e)}function Pt(e){return e==null?"":String(e)}function ee(e){if(e===null)return null;if(typeof e=="number")return e;{const n=Number(e);return Number.isNaN(n)?null:n}}var Et=st([lt("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `)]);const ye=800,we=100,St=Object.assign(Object.assign({},Ne.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]});var Vt=M({name:"InputNumber",props:St,setup(e){const{mergedBorderedRef:n,mergedClsPrefixRef:a,mergedRtlRef:N}=rt(e),u=Ne("InputNumber","-input-number",Et,pt,e,a),{localeRef:_}=wt("InputNumber"),h=ot(e),{mergedSizeRef:m,mergedDisabledRef:v,mergedStatusRef:R}=h,p=F(null),T=F(null),D=F(null),f=F(e.defaultValue),y=et(e,"value"),o=dt(y,f),S=F(""),Ve=t=>{const i=[e.min,e.max,e.step,t].map(s=>{const r=String(s).split(".")[1];return r?r.length:0});return Math.max(...i)},Ae=O(()=>{const{placeholder:t}=e;return t!==void 0?t:_.value.placeholder}),H=O(()=>{const t=ee(e.step);return t!==null?t===0?1:Math.abs(t):1}),se=O(()=>{const t=ee(e.min);return t!==null?t:null}),le=O(()=>{const t=ee(e.max);return t!==null?t:null}),V=t=>{const{value:i}=o;if(t===i){A();return}const{"onUpdate:value":s,onUpdateValue:r,onChange:$}=e,{nTriggerFormInput:L,nTriggerFormChange:w}=h;$&&P($,t),r&&P(r,t),s&&P(s,t),f.value=t,L(),w()},k=(t=0,i=!0,s=!1)=>{const{value:r}=S;if(s&&Ot(r))return!1;const $=Mt(r);if($===null)return i&&V(null),null;if(Z($)){const L=Ve($);let w=parseFloat(($+t).toFixed(L));if(Z(w)){const{value:J}=le,{value:X}=se;if(J!==null&&w>J){if(!i||s)return!1;w=J}if(X!==null&&w<X){if(!i||s)return!1;w=X}return e.validator&&!e.validator(w)?!1:(i&&V(w),w)}}return!1},A=()=>{const{value:t}=o;Z(t)?S.value=Pt(t):S.value=String(t)};A();const Be=O(()=>k(0,!1)===!1),re=O(()=>{const{value:t}=o;if(e.validator&&t===null)return!1;const{value:i}=H;return k(-i,!1)!==!1}),oe=O(()=>{const{value:t}=o;if(e.validator&&t===null)return!1;const{value:i}=H;return k(+i,!1)!==!1});function Ue(t){const{onFocus:i}=e,{nTriggerFormFocus:s}=h;i&&P(i,t),s()}function Le(t){var i,s;if(t.target===((i=p.value)===null||i===void 0?void 0:i.wrapperElRef))return;const r=k();if(r!==!1){const w=(s=p.value)===null||s===void 0?void 0:s.inputElRef;w&&(w.value=String(r||"")),o.value===r&&A()}else A();const{onBlur:$}=e,{nTriggerFormBlur:L}=h;$&&P($,t),L()}function Fe(t){const{onClear:i}=e;i&&P(i,t)}function K(){const{value:t}=oe;if(!t){ce();return}const{value:i}=o;if(i===null)e.validator||V(de());else{const{value:s}=H;k(s)}}function q(){const{value:t}=re;if(!t){ue();return}const{value:i}=o;if(i===null)e.validator||V(de());else{const{value:s}=H;k(-s)}}const je=Ue,He=Le;function de(){if(e.validator)return null;const{value:t}=se,{value:i}=le;return t!==null?Math.max(0,t):i!==null?Math.min(0,i):0}function ze(t){Fe(t),V(null)}function Ge(t){var i,s,r;!((i=D.value)===null||i===void 0)&&i.$el.contains(t.target)&&t.preventDefault(),!((s=T.value)===null||s===void 0)&&s.$el.contains(t.target)&&t.preventDefault(),(r=p.value)===null||r===void 0||r.activate()}let B=null,U=null,z=null;function ue(){z&&(window.clearTimeout(z),z=null),B&&(window.clearInterval(B),B=null)}function ce(){G&&(window.clearTimeout(G),G=null),U&&(window.clearInterval(U),U=null)}function We(){z=window.setTimeout(()=>{B=window.setInterval(()=>{q()},we)},ye),ve("mouseup",document,()=>{window.setTimeout(ue,0)})}let G=null;function Ke(){G=window.setTimeout(()=>{U=window.setInterval(()=>{K()},we)},ye),ve("mouseup",document,()=>{window.setTimeout(ce,0)})}const qe=()=>{U||K()},Je=()=>{B||q()};function Xe(t){var i,s;if(t.code==="Enter"||t.code==="NumpadEnter"){if(t.target===((i=p.value)===null||i===void 0?void 0:i.wrapperElRef))return;k()!==!1&&((s=p.value)===null||s===void 0||s.deactivate())}else if(t.code==="ArrowUp"){if(e.keyboard.ArrowUp===!1)return;t.preventDefault(),k()!==!1&&K()}else if(t.code==="ArrowDown"){if(e.keyboard.ArrowDown===!1)return;t.preventDefault(),k()!==!1&&q()}}function Qe(t){S.value=t,e.updateValueOnInput&&k(0,!0,!0)}tt(o,()=>{A()});const Ye={focus:()=>{var t;return(t=p.value)===null||t===void 0?void 0:t.focus()},blur:()=>{var t;return(t=p.value)===null||t===void 0?void 0:t.blur()}},Ze=ut("InputNumber",N,a);return Object.assign(Object.assign({},Ye),{rtlEnabled:Ze,inputInstRef:p,minusButtonInstRef:T,addButtonInstRef:D,mergedClsPrefix:a,mergedBordered:n,uncontrolledValue:f,mergedValue:o,mergedPlaceholder:Ae,displayedValueInvalid:Be,mergedSize:m,mergedDisabled:v,displayedValue:S,addable:oe,minusable:re,mergedStatus:R,handleFocus:je,handleBlur:He,handleClear:ze,handleMouseDown:Ge,handleAddClick:qe,handleMinusClick:Je,handleAddMousedown:Ke,handleMinusMousedown:We,handleKeyDown:Xe,handleUpdateDisplayedValue:Qe,mergedTheme:u,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:nt(()=>{const{self:{iconColorDisabled:t}}=u.value,[i,s,r,$]=ct(t);return{textColorTextDisabled:`rgb(${i}, ${s}, ${r})`,opacityDisabled:`${$}`}})})},render(){const{mergedClsPrefix:e}=this;return b("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},b(xe,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var n,a;return(a=(n=this.$slots).prefix)===null||a===void 0?void 0:a.call(n)},suffix:()=>{var n,a;return this.showButton?[this.$slots.suffix&&b("span",{class:`${e}-input-number-suffix`},{default:this.$slots.suffix}),b(he,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{default:()=>b(me,{clsPrefix:e,"aria-disabled":!0},{default:()=>b(xt,null)})}),b(he,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{default:()=>b(me,{clsPrefix:e},{default:()=>b(Rt,null)})})]:(a=(n=this.$slots).suffix)===null||a===void 0?void 0:a.call(n)}}))}});const At={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Bt=d("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 112v288"},null,-1),Ut=d("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1),Lt=[Bt,Ut];var Me=M({name:"Add",render:function(n,a){return C(),I("svg",At,Lt)}});const Ft={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},jt=d("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 368L144 144"},null,-1),Ht=d("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 144L144 368"},null,-1),zt=[jt,Ht];var Oe=M({name:"CloseOutline",render:function(n,a){return C(),I("svg",Ft,zt)}});const Gt={class:"edit_places"},Wt={class:"places"},Kt={key:0,class:"editTravelTime"},qt={key:0,class:"travelTimeInput"},Jt=d("div",{class:"travelTimeLabel"},"Travel time",-1),Xt=x("minutes"),Qt=x("Set travel time"),Yt=d("br",null,null,-1),Zt=x("Delete this place"),en=x("Add another place");function tn(e,n,a,N,u,_){const h=c("n-divider"),m=c("n-input-number"),v=c("n-button"),R=c("n-input"),p=c("close-outline"),T=c("n-icon"),D=c("add");return C(),I("div",Gt,[d("ul",Wt,[(C(!0),I(Ce,null,$e(e.propPlaces,(f,y)=>(C(),I("li",{class:"place",key:y},[y>0?(C(),I("div",Kt,[l(h,{class:"editPlaceDivider"}),f.travelTime!==void 0?(C(),I("div",qt,[Jt,l(m,{placeholder:"Travel time (in minutes)",type:"text",min:0,value:f.travelTime.timeInMinutes,"onUpdate:value":o=>f.travelTime.timeInMinutes=o},{suffix:g(()=>[Xt]),_:2},1032,["value","onUpdate:value"])])):(C(),te(v,{key:1,class:"setTravelTime",type:"default",onClick:o=>e.setTravelTime(y)},{default:g(()=>[Qt]),_:2},1032,["onClick"])),l(h,{class:"editPlaceDivider"})])):Te("",!0),d("div",{class:De(["editPlace","place"+y])},[l(R,{class:"inputPlaceLabel",value:f.place.label,"onUpdate:value":o=>f.place.label=o,type:"text",placeholder:"Place Name"+(y!==0?"":" (eg. Golden Gate Bridge)")},null,8,["value","onUpdate:value","placeholder"]),l(R,{class:"inputPlaceLink",value:f.place.URL,"onUpdate:value":o=>f.place.URL=o,type:"text",placeholder:"Link"+(y!==0?"":" (eg. Google Map link)")},null,8,["value","onUpdate:value","placeholder"]),Yt,l(R,{class:"inputPlaceDesc",value:f.place.description,"onUpdate:value":o=>f.place.description=o,type:"textarea",placeholder:y!==0?"Description":"Elaborate more about why you include this place in the trip!",rows:3},null,8,["value","onUpdate:value","placeholder"]),l(v,{class:"removePlace wide_button",type:"error",secondary:"",onClick:o=>e.removePlace(y)},{default:g(()=>[l(T,null,{default:g(()=>[l(p)]),_:1}),Zt]),_:2},1032,["onClick"])],2)]))),128))]),l(h,{class:"editPlaceDivider"}),l(v,{class:"addPlace wide_button",onClick:e.pushPlace},{default:g(()=>[l(T,null,{default:g(()=>[l(D)]),_:1}),en]),_:1},8,["onClick"])])}const nn=M({name:"CEditPlaces",components:{Add:Me,CloseOutline:Oe,NButton:ne,NDivider:ft,NIcon:ke,NInput:xe,NInputNumber:Vt},model:{props:{propPlaces:Array()},emits:["update:propPlaces"]},props:{propPlaces:{type:Array,default:()=>[],validator:function(e){return Array.isArray(e)?(e.forEach(n=>{if(!(n instanceof pe))return!1}),!0):!1}}},methods:{pushPlace(){this.$props.propPlaces.push(new pe)},removePlace(e){this.$props.propPlaces.splice(e,1)},setTravelTime(e){const n=new it;n.toPlaceIndex=e,this.$props.propPlaces[e].travelTime=n}}});var Pe=ae(nn,[["render",tn]]);const an={class:"edit_days narrow_content"},sn={class:"editDayCardContent"},ln={class:"editDayTitle"},rn=x("Delete this day"),on=x("Add another day");function dn(e,n,a,N,u,_){const h=c("close-outline"),m=c("n-icon"),v=c("n-button"),R=c("CEditPlaces"),p=c("n-card"),T=c("add");return C(),I("div",an,[(C(!0),I(Ce,null,$e(e.days,(D,f)=>(C(),te(p,{class:De(["editDay","day"+D.dayOf]),key:D.dayOf,hoverable:"","content-style":"padding: 0"},{default:g(()=>[d("div",sn,[d("div",ln,[d("b",null,"Day "+at(D.dayOf),1),l(v,{class:"removeDay right_button",secondary:"",type:"error",onClick:y=>e.removeDay(f)},{default:g(()=>[l(m,null,{default:g(()=>[l(h)]),_:1}),rn]),_:2},1032,["onClick"])]),l(R,{class:"editPlaces",ref_for:!0,ref:"places"+f,propPlaces:D.propPlaces,"onUpdate:propPlaces":y=>D.propPlaces=y},null,8,["propPlaces","onUpdate:propPlaces"])])]),_:2},1032,["class"]))),128)),l(v,{class:"addDay right_button",onClick:n[0]||(n[0]=D=>e.pushDay())},{default:g(()=>[l(m,null,{default:g(()=>[l(T)]),_:1}),on]),_:1})])}const un=M({components:{Add:Me,CEditPlaces:Pe,CloseOutline:Oe,NButton:ne,NCard:ht,NIcon:ke},props:{givenDays:{type:Array,required:!0}},data:()=>({days:[]}),beforeMount(){this.$data.days=this.$props.givenDays.slice(0).map(e=>new fe(e))},methods:{pushDay(){let e=new fe(new mt({places:[{}]}));e.dayOf=this.$data.days.length+1,this.$data.days.push(e)},removeDay(e){this.$data.days.splice(e,1);let n={};for(let u of this.$data.days)n[u.dayOf]=u;const a=this.$data.days.length;this.$data.days=[];let N=0;for(let u=0;u<a;u++){let _=n[u+N];for(;_==null&&u+N<a+5;)N++,_=n[u+N];_.dayOf=u+1,this.$data.days.push(_)}}}});var cn=ae(un,[["render",dn],["__scopeId","data-v-a3944dc6"]]);class pn{static getAllTypes(){return["name","description"]}constructor(n,a){this.type=n,this.label=this.getLabel(),this.value=a}getLabel(){switch(this.type){case"name":return"Name";case"description":return"Description";default:return"unknown_type"}}}class W extends $t{static fromJSON(n){return new W(n)}getObj(){return new ie(JSON.parse(this.obj))}}class be extends Tt{}class Ee extends Dt{constructor(){super(...arguments),this.storage=Nt.TRIP,this.storeCount=10}async genFetch(n){const a=await Se(n);return kt.isPWA()?a.ID!==-1?(this.storeObj(be,W,Ie.stringify(a),a.ID.toString()),a):null:a}static genObj(n){return new Ee().genObjImpl(be,W,n)}}async function Se(e){const n=await Re.genGET("v2/trip/"+e);return new ie(n)}const fn={class:"edit_trip"},hn={class:"edit_form"},mn={class:"narrow_content"},vn={class:"editTripPrivacy"},gn=d("span",{class:"editLabel"},"Private:",-1),_n={class:"editInput"},yn={class:"editCity"},wn=d("span",{class:"editLabel"},"Cities:",-1),bn={class:"confirmationButtons narrow_content"},Cn=x("Save"),$n=x("Cancel"),Tn=x("Delete");function Dn(e,n,a,N,u,_){const h=c("CEditItem"),m=c("n-switch"),v=c("n-select"),R=c("CEditDays"),p=c("n-button");return C(),I("div",fn,[d("form",hn,[d("div",mn,[l(h,{className:"editTripName",label:"Name",ref:"name",val:e.trip.details.name.valueOf()},null,8,["val"]),l(h,{className:"editTripDescription",label:"Description",ref:"description",type:"textarea",val:e.trip.details.description.valueOf(),"val-max-count":e.descriptionMaxCharCount,"row-min-count":e.descriptionRowMinCount},null,8,["val","val-max-count","row-min-count"]),d("div",vn,[gn,d("div",_n,[l(m,{class:"editPrivacyToggle",value:e.private,"onUpdate:value":n[0]||(n[0]=T=>e.private=T)},null,8,["value"])])]),d("div",yn,[wn,l(v,{class:"editInput",value:e.cities,"onUpdate:value":n[1]||(n[1]=T=>e.cities=T),options:e.possibleCities,filterable:"",multiple:"",placeholder:""},null,8,["value","options"])])]),l(R,{ref:"days",givenDays:e.trip.details.days},null,8,["givenDays"]),d("div",bn,[l(p,{class:"saveEditTrip left_col",type:"info",onClick:e.save,loading:e.saving},{default:g(()=>[Cn]),_:1},8,["onClick","loading"]),l(p,{class:"cancelEditTrip right_col",type:"default",onClick:e.cancel},{default:g(()=>[$n]),_:1},8,["onClick"]),e.isNew?Te("",!0):(C(),te(p,{key:0,class:"deleteTrip right_col",onClick:e.confirmDelete,type:"error",loading:e.deleting},{default:g(()=>[Tn]),_:1},8,["onClick","loading"]))])])])}const Nn=3,kn=M({components:{NButton:ne,NSelect:It,NSwitch:vt,CEditDays:cn,CEditItem:bt,CEditPlaces:Pe},props:{trip:{type:ie,required:!0},isNew:{type:Boolean,required:!0}},emits:{save(e){return e.ID!==-1},cancel(){return!0}},data:()=>({cities:[],possibleCities:[],private:!1,saving:!1,deleting:!1}),computed:{descriptionMaxCharCount(){return Y},descriptionRowMinCount(){return Nn}},beforeMount(){j.init(),this.update()},mounted(){E.get(E.get(this,"name"),"input").focus()},methods:{cancel(){var e;E.get(this,"days").$data.days=((e=this.$props.trip.details.days)!=null?e:[]).slice(0),this.$emit("cancel")},save(){let e=new gt;if(this.$data.cities.length<1){this.showAlert("Cities cannot be empty");return}this.$data.saving=!0,e.cities=Q.stringToCities(this.$data.cities.join(","));const n=E.getVal(this,"name"),a=E.getVal(this,"description").split(`
`).join(" ");if(!this.checkValidNameDescription(n,a)){this.$data.saving=!1;return}e.name=n,e.description=a,e.days=[];const u=E.get(this,"days");let _=0;for(const h in u.days){const m=u.days[h].toDay(),v=this.filterPlaces(m.places);if(v===null){j.dialogError({title:"Invalid Link",content:"We currently only support links to limited websites including OpenStreetMap, Google Map, Bing Maps and Yelp.",positiveText:"OK"}),this.$data.saving=!1;return}v.length>0?(m.places=v,m.dayOf=m.dayOf-_,e.days.push(m)):_++}e.private=this.$data.private,e.ID=this.$props.trip.ID,this.$emit("save",e),this.$data.saving=!1},filterPlaces(e){let n=[];for(let a of e)if(a.label=a.label.trim(),a.URL=a.URL.trim(),a.label!=="")if(a.URL===""||this.filterPlace(a))a.description=a.description.split(`
`).join(" "),n.push(a);else return null;return n},filterPlace(e){const n=["https://goo.gl/maps/","https://google.com/maps/","https://www.google.com/maps/","https://maps.google.com/","https://www.openstreetmap.org/way/","https://www.bing.com/maps?","https://www.yelp.com/biz/"];for(const a of n)if(e.URL.startsWith(a))return!0;return!1},confirmDelete(){j.dialogWarning({title:"Delete trip",content:"Are you sure you want to delete this trip? THIS PROCESS IS IRREVERSIBLE.",positiveText:"Confirm",negativeText:"Cancel",onPositiveClick:async()=>{await this.del()},onNegativeClick:async()=>{}})},async del(){this.$data.deleting=!0;let e=Boolean(await Re.genDELETE("v2/trip/"+this.$props.trip.ID,Ie.stringify(this.$props.trip)));e||(e=(await Se(this.$props.trip.ID.toString())).ID===-1),this.$data.deleting=!1,j.notifyTrigger("Trip Deletion",e?"Trip is successfully deleted!":"Trip deletion attempt failed.",e?_e.SUCCESS:_e.ERROR),e&&_t.genRedirectTo(yt.Landing)},tripToItem(e){return new pn(e,this.$props.trip[e])},update(){this.$data.possibleCities=Q.sortedCityOptions(),this.$data.cities=Q.stringToCityStringArray(this.$props.trip.details.cities.join(",")),this.$data.private=this.$props.trip.details.private.valueOf()},checkValidNameDescription(e,n){return!e||e.length<Ct?(this.showAlert("Trip name is too short."),!1):e.length>ge?(this.showAlert(`Trip name cannot be longer than ${ge}.`),!1):!n||n.length>Y?(this.showAlert(`Trip description cannot be longer than ${Y}.`),!1):!0},showAlert(e){j.dialogError({title:"Error",content:e,positiveText:"OK"})}}});var Vn=ae(kn,[["render",Dn]]);export{Vn as C,Ee as T};
