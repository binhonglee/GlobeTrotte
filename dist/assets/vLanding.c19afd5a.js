import{resolveComponent as i,openBlock as n,createElementBlock as a,createVNode as r,createElementVNode as s,withKeys as w,withCtx as b,Fragment as l,renderList as d,createBlock as $,pushScopeId as S,popScopeId as k,createTextVNode as N,defineComponent as P}from"vue";import{C as q,a as I}from"./CLoadingTripPreviewCard.ef1edf0e.js";import{_ as L,N as R,a as B,T as c,R as u,b as h}from"./index.18ba2282.js";import{C as m}from"./DataProps.0be84455.js";import{C as H}from"./CHead.51847178.js";import{N as E}from"./Input.6596a750.js";import{N as F}from"./Select.1f9bf9a6.js";import"./CLink.ec785f29.js";import"./CPlaces.1137877f.js";import"workbox-window";const p=e=>(S("data-v-4579b248"),e=e(),k(),e),G={class:"landing"},K=p(()=>s("h1",{class:"title"},"GlobeTrotte",-1)),O=p(()=>s("h3",{class:"subtitle"},"Look for your next travel plan here!",-1)),U=p(()=>s("br",null,null,-1)),V={class:"tripSearchForm"},j=N("Find"),M={class:"homePageTripCarousel"};function A(e,t,_,W,z,D){const C=i("CHead"),v=i("n-input"),g=i("n-select"),y=i("n-button"),f=i("CLoadingTripPreviewCard"),T=i("CTripPreviewCard");return n(),a("div",G,[r(C,{description:"Welcome to GlobeTrotte - A travel itinerary crowdsourcing platform",type:"homepage"}),K,O,U,s("form",V,[r(v,{class:"tripSearchQueryInput",placeholder:"weekend",value:e.query,"onUpdate:value":t[0]||(t[0]=o=>e.query=o),onKeyup:w(e.search,["enter","native"])},null,8,["value","onKeyup"]),r(g,{class:"tripSearchCityInput",value:e.selectedCities,"onUpdate:value":t[1]||(t[1]=o=>e.selectedCities=o),options:e.possibleCities,filterable:"",multiple:"",placeholder:"City"},null,8,["value","options"]),r(y,{onClick:e.search},{default:b(()=>[j]),_:1},8,["onClick"])]),s("div",M,[e.trips.length===0?(n(),a(l,{key:0},d(10,o=>r(f,{key:o})),64)):(n(!0),a(l,{key:1},d(e.trips,o=>(n(),$(T,{trip:o},null,8,["trip"]))),256))])])}const Q=P({components:{NButton:R,NInput:E,NSelect:F,CTripPreviewCard:q,CHead:H,CLoadingTripPreviewCard:I},data:()=>({length:0,possibleCities:[],query:"",selectedCities:[],trips:[]}),async beforeMount(){this.$data.possibleCities=m.sortedCityOptions(),this.$data.trips=[];const e=await B.genGET("v2/sample_trips");for(const t of e)new c(t).details.days.length>0&&this.$data.trips.push(new c(t))},methods:{async search(){this.$data.query.length>0||this.$data.selectedCities.length>0||this.$data.length!==0||await u.genRedirectTo(h.trip_Search),await u.genRedirectTo(h.trip_Search,new Map(Object.entries({length:this.$data.length.toString(),query:this.$data.query,cities:m.citiesToString(this.$data.selectedCities)})))}}});var se=L(Q,[["render",A],["__scopeId","data-v-4579b248"]]);export{se as default};
