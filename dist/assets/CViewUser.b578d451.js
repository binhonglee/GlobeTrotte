import{C as f}from"./CTripPreviewCard.9a64307d.js";import{U as g,T as v,_ as C}from"./index.c9b3b141.js";import{r as i,o as s,d as r,i as p,x as l,g as o,e as n,w as u,F as y,s as w,f as $,h as c,m as b,n as T,j as k}from"./vendor.b89496ae.js";const P=e=>(b("data-v-fac585e2"),e=e(),T(),e),B={class:"view_user"},I={class:"userInfo narrow_content"},j={key:0,class:"userName"},E={key:1,class:"userBio"},N={key:2,class:"userInfoButtonGroups"},U=c("Logout"),V=c("Edit"),A={key:0,class:"viewUserTrips"},D=P(()=>p("h2",null,"Trips",-1));function S(e,t,a,O,F,q){const d=i("el-button"),_=i("el-divider"),h=i("CTripPreviewCard");return s(),r("div",B,[p("div",I,[e.showName?(s(),r("h2",j,l(e.user.details.name),1)):o("",!0),e.user.details.bio!==""?(s(),r("p",E,l(e.user.details.bio),1)):o("",!0),e.self?(s(),r("div",N,[n(d,{class:"myAccountLogout",type:"danger",onClick:e.logout},{default:u(()=>[U]),_:1},8,["onClick"]),n(d,{class:"myAccountEdit",tabindex:"0",type:"default",ref:"edit",onClick:e.toggleEdit},{default:u(()=>[V]),_:1},8,["onClick"])])):o("",!0)]),n(_,{class:"viewUserDivider"}),e.trips.length>0?(s(),r("div",A,[D,(s(!0),r(y,null,w(e.trips,m=>(s(),$(h,{trip:m},null,8,["trip"]))),256))])):o("",!0)])}const L=k({components:{CTripPreviewCard:f},props:{user:{type:g,required:!0},showName:{type:Boolean,default:!0},self:{type:Boolean,default:!1}},emits:{logout(){return!0},toggleEdit(){return!0}},data:()=>({trips:[],lastPopulated:[]}),async beforeMount(){await this.genPopulateTrips()},async beforeUpdate(){await this.genPopulateTrips()},methods:{compareArray(e,t){if(e.length!==t.length)return!1;for(let a in e)if(e[a]!==t[a])return!1;return!0},async genPopulateTrips(){this.compareArray(this.$data.lastPopulated,this.$props.user.trips)||(this.$data.trips=this.$props.user.trips.map(e=>{const t=new v;return t.ID=e.ID,t.details=e,t.user=this.$props.user.details,t}),this.$data.lastPopulated=this.$props.user.trips)},logout(){this.$emit("logout")},toggleEdit(){this.$emit("toggleEdit")}}});var z=C(L,[["render",S],["__scopeId","data-v-fac585e2"]]);export{z as C};
