import{_ as p,R as c}from"./index.4a453efe.js";import{r as k,o as l,d,i as o,C as u,e as _,w as h,t as f,v as m,h as s,j as b,z as g}from"./vendor.bef68fa6.js";const n=t=>(f("data-v-570b0e4c"),t=t(),m(),t),v={class:"leaving_confirm narrow_content"},w={key:0,class:"nonBrokenLink"},C=n(()=>o("h1",{class:"title"},"You are leaving GlobeTrotte...",-1)),y={class:"content"},B=s("Make sure you want to proceed to"),$=n(()=>o("br",null,null,-1)),R=["href"],T=s("Back to GlobeTrotte"),I=s("Proceed"),S={key:1,class:"brokenLink"},M=n(()=>o("h1",{class:"title"},"Broken link",-1)),N=n(()=>o("p",{class:"content"},"Seems like this link is broken. \u{1F625}",-1)),W=s("Back to GlobeTrotte");function j(t,e,a,i,L,V){const r=k("n-button");return l(),d("div",v,[t.broken?(l(),d("div",S,[M,N,_(r,{onClick:t.close},{default:h(()=>[W]),_:1},8,["onClick"])])):(l(),d("div",w,[C,o("p",y,[B,$,o("a",{class:"externalURL",href:t.link},u(t.link),9,R)]),_(r,{class:"backButton",onClick:t.close},{default:h(()=>[T]),_:1},8,["onClick"]),_(r,{type:"primary",tag:"a",href:t.link},{default:h(()=>[I]),_:1},8,["href"])]))])}const G=b({components:{NButton:g},data(){return{link:"",broken:!1}},async beforeMount(){var a,i;const t=c.getParamMap();if(t.size===0||!t.has("link")){this.$data.broken=!0;return}if(this.$data.link=decodeURIComponent(((i=(a=t.get("link"))==null?void 0:a.trim())!=null?i:"").split("&dots&").join(".").split(".pct.").join("%")),!this.$data.link.startsWith("https://")){this.$data.broken=!0;return}let e=this.$data.link;e.startsWith("https://")&&(e=e.substring(8)),e.startsWith("globetrotte.com")?await c.genRedirectTo(e.substring(15)):e.startsWith("www.globetrotte.com")&&await c.genRedirectTo(e.substring(19))},methods:{close(){window.close()}}});var U=p(G,[["render",j],["__scopeId","data-v-570b0e4c"]]);export{U as default};
