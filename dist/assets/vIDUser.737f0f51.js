import{C as l}from"./CViewUser.7f54f261.js";import{r as o,o as c,c as p,a as i,e as n,t as m,_,d as f,be as v,G as s,R as a,k as r}from"./index.2ee84990.js";import{C as h}from"./CHead.4edc3c61.js";import"./CPlaces.e5679090.js";import"./CLink.7f0508e7.js";import"./CShare.c6ce9856.js";import"./NaiveUtils.ad007c4b.js";import"./Input.b489f4d8.js";import"./CTripPreviewCard.ed11173f.js";import"./DataProps.ff17a0c6.js";import"./TripUtil.cf3da4e6.js";import"./Alert.fe03bfbd.js";const g={class:"get_user"},w={class:"title"},C={class:"profile_info"};function U(e,t,b,I,N,D){const d=o("CHead"),u=o("CViewUser");return c(),p("div",g,[i(d,{title:e.user.details.name.valueOf(),description:e.user.details.bio.valueOf(),type:"profile"},null,8,["title","description"]),n("h1",w,m(e.user.details.name),1),n("div",C,[i(u,{user:e.user,showName:!1},null,8,["user"])])])}const $=f({components:{CViewUser:l,CHead:h},data:()=>({user:new v}),async beforeMount(){const e=s.paramID();if(e===void 0){await a.genRedirectTo(r.NotFound);return}if(isNaN(Number(e)))this.$data.user=await s.genFromUsername(e);else{const t=await s.genUser(Number(e));this.$data.user=t,t.details.username!==""&&await a.genRedirectTo(r.User+"/"+t.details.username)}if(this.$data.user.ID===-1){await this.$alert("User not found.","Error",{confirmButtonText:"OK"}),await a.genRedirectTo(r.Landing);return}s.getIsCurrentUser(this.$data.user.ID.valueOf())&&await a.genRedirectTo(r.MyAccount),this.$data.user.details.bio=this.$data.user.details.bio.replaceAll("\\\\n",`
`)}});var M=_($,[["render",U],["__scopeId","data-v-0a21bcf6"]]);export{M as default};
