import{C as f}from"./CTripPreviewCard.6ae473eb.js";import{r as a,o,c as p,b as i,d as n,w as g,e as y,F as T,f as w,p as b,a as $,g as S,h as N,_ as k,i as q,N as I,H as R,T as l,R as c,j as d}from"./index.aaf24c90.js";import{C as u}from"./DataProps.8dd5a3be.js";import{N as B}from"./Input.8e3eb2ef.js";import{N as P}from"./Select.ad6958d4.js";import"./CLink.33d53c95.js";import"./CPlaces.fbf7c696.js";const r=e=>(b("data-v-5c03f98e"),e=e(),$(),e),F={class:"landing"},L=r(()=>i("h1",{class:"title"},"GlobeTrotte",-1)),j=r(()=>i("h3",{class:"subtitle"},"Look for your next travel plan here!",-1)),K=r(()=>i("br",null,null,-1)),O={class:"tripSearchForm"},U=N("Find"),V={class:"homePageTripCarousel"};function E(e,t,h,H,M,A){const _=a("n-input"),m=a("n-select"),C=a("n-button"),v=a("CTripPreviewCard");return o(),p("div",F,[L,j,K,i("form",O,[n(_,{class:"tripSearchQueryInput",placeholder:"Alaska",value:e.query,"onUpdate:value":t[0]||(t[0]=s=>e.query=s),onKeyup:g(e.search,["enter","native"])},null,8,["value","onKeyup"]),n(m,{class:"tripSearchCityInput",value:e.selectedCities,"onUpdate:value":t[1]||(t[1]=s=>e.selectedCities=s),options:e.possibleCities,filterable:"",multiple:"",placeholder:"City"},null,8,["value","options"]),n(C,{onClick:e.search},{default:y(()=>[U]),_:1},8,["onClick"])]),i("div",V,[(o(!0),p(T,null,w(e.trips,s=>(o(),S(v,{trip:s},null,8,["trip"]))),256))])])}const G=q({components:{NButton:I,NInput:B,NSelect:P,CTripPreviewCard:f},data:()=>({length:0,possibleCities:[],query:"",selectedCities:[],trips:[]}),async beforeMount(){this.$data.possibleCities=u.sortedCityOptions(),this.$data.trips=[];const e=await R.genGET("v2/sample_trips");for(const t of e)new l(t).details.days.length>0&&this.$data.trips.push(new l(t))},methods:{async search(){this.$data.query.length>0||this.$data.selectedCities.length>0||this.$data.length!==0||await c.genRedirectTo(d.trip_Search),await c.genRedirectTo(d.trip_Search,new Map(Object.entries({length:this.$data.length.toString(),query:this.$data.query,cities:u.citiesToString(this.$data.selectedCities)})))}}});var Z=k(G,[["render",E],["__scopeId","data-v-5c03f98e"]]);export{Z as default};
