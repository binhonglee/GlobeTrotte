import{C as T,a as b}from"./CLoadingTripPreviewCard-0b461fac.js";import{d as $,N as S,H as k,R as l,f as d,r as o,o as r,c as n,a as i,e as a,w as N,g as P,F as c,h as u,i as q,j as I,p as L,b as R,_ as B}from"./index-406f6e18.js";import{T as h}from"./TripObj-0083e4c4.js";import{C as m}from"./CityUtil-30b2a0db.js";import{C as H}from"./CHead-4a70f31d.js";import{N as F}from"./Input-e62e8d1c.js";import{N as j}from"./Select-4882c494.js";import"./CLink-fd847659.js";import"./CPlaces-20eb4e21.js";import"./DataProps-5f6df827.js";const G=$({components:{NButton:S,NInput:F,NSelect:j,CTripPreviewCard:T,CHead:H,CLoadingTripPreviewCard:b},data:()=>({length:0,possibleCities:[],query:"",selectedCities:[],trips:[]}),async beforeMount(){this.$data.possibleCities=m.sortedCityOptions(),this.$data.trips=[];const e=await k.genGET("v2/sample_trips");for(const t of e)new h(t).details.days.length>0&&this.$data.trips.push(new h(t))},methods:{async search(){this.$data.query.length>0||this.$data.selectedCities.length>0||this.$data.length!==0||await l.genRedirectTo(d.trip_Search),await l.genRedirectTo(d.trip_Search,new Map(Object.entries({length:this.$data.length.toString(),query:this.$data.query,cities:m.citiesToString(this.$data.selectedCities)})))}}}),p=e=>(L("data-v-91fe1d40"),e=e(),R(),e),K={class:"landing"},O=p(()=>a("h1",{class:"title"},"GlobeTrotte",-1)),U=p(()=>a("h3",{class:"subtitle"},"Look for your next travel plan here!",-1)),V=p(()=>a("br",null,null,-1)),E={class:"tripSearchForm"},M={class:"homePageTripCarousel"};function A(e,t,_,Q,W,z){const C=o("CHead"),f=o("n-input"),g=o("n-select"),v=o("n-button"),y=o("CLoadingTripPreviewCard"),w=o("CTripPreviewCard");return r(),n("div",K,[i(C,{description:"Welcome to GlobeTrotte - A travel itinerary crowdsourcing platform",type:"homepage"}),O,U,V,a("form",E,[i(f,{class:"tripSearchQueryInput",placeholder:"weekend",value:e.query,"onUpdate:value":t[0]||(t[0]=s=>e.query=s),onKeyup:N(e.search,["enter","native"])},null,8,["value","onKeyup"]),i(g,{class:"tripSearchCityInput",value:e.selectedCities,"onUpdate:value":t[1]||(t[1]=s=>e.selectedCities=s),options:e.possibleCities,filterable:"",multiple:"",placeholder:"City"},null,8,["value","options"]),i(v,{onClick:e.search},{default:P(()=>[q("Find")]),_:1},8,["onClick"])]),a("div",M,[e.trips.length===0?(r(),n(c,{key:0},u(10,s=>i(y,{key:s})),64)):(r(!0),n(c,{key:1},u(e.trips,s=>(r(),I(w,{trip:s},null,8,["trip"]))),256))])])}const ie=B(G,[["render",A],["__scopeId","data-v-91fe1d40"]]);export{ie as default};
