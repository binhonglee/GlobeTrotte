class d{static isPWA(){switch("production"){case"production":return window.matchMedia("(display-mode: standalone)").matches;case"development":return!0}return!0}}class f{constructor(e){this.order=e.order,this.key=e.key,this.obj=e.obj}static paramsToRecord(e,a,s){return{order:e,key:a,obj:s}}getOrder(){return this.order}getKey(){return this.key}incrementOrder(){return this.order++,this.order}}function u(t,e){if(e===null)return null;try{const a=JSON.parse(e),s=[];for(const l of a)s.push(new t(l));return s}catch{return null}}class m{constructor(){this.fromStorage=!1,this.completed=null,this.promise=null}}class p{getStorage(){return localStorage.getItem(this.storage)}setStorage(e){localStorage.setItem(this.storage,JSON.stringify(e))}async genObjImpl(e,a,s){const l=new e;if(d.isPWA()){const r=u(a,this.getStorage());if(r!==null)for(const n of r)n.getKey()}return l.completed=await this.genFetch(s),l.promise=null,l}storeObj(e,a,s,l){let r;try{r=u(a,this.getStorage())}catch{r=null}let n=0;if(r!==null){const o=[];for(const[i,c]of r.entries())c.getKey()===s?o.push(i):c.getOrder()>n&&(n=c.getOrder(),o.push(i)),c.incrementOrder();for(const i of o)r.length===1&&(r=[]),r.splice(i,1)}else r=[];r.push(new a(f.paramsToRecord(n,s,l))),this.setStorage(r)}}var h=(t=>(t.TRIP="trip",t.USER="user",t.USERNAME="username",t))(h||{});function g(t){return t.replaceAll('"','\\"').replaceAll("	","").replaceAll(`
`,"\\n")}function O(t,e){return t.ID.valueOf()===e.ID.valueOf()&&t.details.bio.valueOf()===e.details.bio.valueOf()&&t.details.email.valueOf()===e.details.email.valueOf()&&t.details.link.valueOf()===e.details.link.valueOf()&&t.details.name.valueOf()===e.details.name.valueOf()&&t.details.username.valueOf()===e.details.username.valueOf()}export{f as C,m as F,d as P,p as a,h as b,g as p,O as s};
