import{C as w,a as T}from"./CLoadingTripPreviewCard.77d32007.js";import{r as i,o as r,c as n,a as s,e as o,f as S,w as $,F as d,g as l,p as k,b as I,h as N,i as P,_ as q,d as x,N as L,j as R,T as c,R as u,k as h}from"./index.e8deed49.js";import{C as m}from"./DataProps.b9b3face.js";import{C as B}from"./CHead.606f243e.js";import{N as F}from"./Input.4178879e.js";import{N as H}from"./Select.3974d351.js";import"./CLink.0d22eb4a.js";import"./CPlaces.881cb22c.js";const p=e=>(k("data-v-4579b248"),e=e(),I(),e),j={class:"landing"},G=p(()=>o("h1",{class:"title"},"GlobeTrotte",-1)),K=p(()=>o("h3",{class:"subtitle"},"Look for your next travel plan here!",-1)),O=p(()=>o("br",null,null,-1)),Q={class:"tripSearchForm"},U=P("Find"),V={class:"homePageTripCarousel"};function E(e,t,_,A,W,z){const C=i("CHead"),g=i("n-input"),v=i("n-select"),y=i("n-button"),b=i("CLoadingTripPreviewCard"),f=i("CTripPreviewCard");return r(),n("div",j,[s(C,{description:"Welcome to GlobeTrotte - A travel itinerary crowdsourcing platform",type:"homepage"}),G,K,O,o("form",Q,[s(g,{class:"tripSearchQueryInput",placeholder:"weekend",value:e.query,"onUpdate:value":t[0]||(t[0]=a=>e.query=a),onKeyup:S(e.search,["enter","native"])},null,8,["value","onKeyup"]),s(v,{class:"tripSearchCityInput",value:e.selectedCities,"onUpdate:value":t[1]||(t[1]=a=>e.selectedCities=a),options:e.possibleCities,filterable:"",multiple:"",placeholder:"City"},null,8,["value","options"]),s(y,{onClick:e.search},{default:$(()=>[U]),_:1},8,["onClick"])]),o("div",V,[e.trips.length===0?(r(),n(d,{key:0},l(10,a=>s(b,{key:a})),64)):(r(!0),n(d,{key:1},l(e.trips,a=>(r(),N(f,{trip:a},null,8,["trip"]))),256))])])}const M=x({components:{NButton:L,NInput:F,NSelect:H,CTripPreviewCard:w,CHead:B,CLoadingTripPreviewCard:T},data:()=>({length:0,possibleCities:[],query:"",selectedCities:[],trips:[]}),async beforeMount(){this.$data.possibleCities=m.sortedCityOptions(),this.$data.trips=[];const e=await R.genGET("v2/sample_trips");for(const t of e)new c(t).details.days.length>0&&this.$data.trips.push(new c(t))},methods:{async search(){this.$data.query.length>0||this.$data.selectedCities.length>0||this.$data.length!==0||await u.genRedirectTo(h.trip_Search),await u.genRedirectTo(h.trip_Search,new Map(Object.entries({length:this.$data.length.toString(),query:this.$data.query,cities:m.citiesToString(this.$data.selectedCities)})))}}});var ie=q(M,[["render",E],["__scopeId","data-v-4579b248"]]);export{ie as default};
