import{r as n,o,d as i,e as c,m as p,n as d,i as _,j as l,W as u}from"./vendor.ea1d7ba9.js";import{C as m}from"./CEditTrip.d30a96fd.js";import{_ as v,T as s,r as w,G as f,H as T,R as C,a as b}from"./index.bdcf6c50.js";import"./DataProps.21439479.js";import"./E.b85a9538.js";const h=e=>(p("data-v-42bab668"),e=e(),d(),e),g={class:"new_trip narrow_content"},y=h(()=>_("h1",{class:"title"},"New Trip",-1));function S(e,t,a,E,I,N){const r=n("CEditTrip");return o(),i("div",g,[y,c(r,{class:"newTrip",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const j=l({components:{CEditTrip:m},data(){return{trip:new s({details:{days:[{day_of:1,places:[{}]}]}})}},methods:{cancel(){w.back()},async save(e){const t=await f.genCurrentUser();try{if(t.ID!==0){const a=await T.genPOST("v2/trip",u.stringify(e));await C.genRedirectTo(b.trip_View+"/"+new s(a).ID);return}}catch{}this.$alert("Save was unsuccessful. Please try again later.","Fail",{confirmButtonText:"OK"})}}});var x=v(j,[["render",S],["__scopeId","data-v-42bab668"]]);export{x as default};
