import{C as w,a as b}from"./CLoadingTripPreviewCard-UzNnqP2X.js";import{d as _,B as $,R as p,e as l,H as k,c as a,a as o,b as r,r as s,w as N,f as P,F as d,g as u,o as n,h as S,i as q,_ as B}from"./index-CVwEz7sZ.js";import{T as c}from"./TripObj-B2zgwhZc.js";import{C as m}from"./CityUtil-CM2cfA-3.js";import{C as L}from"./CHead-DB__Oa_T.js";import{N as R}from"./Select-BH-AmpZh.js";import{N as H}from"./Input-B0b2FwEY.js";import"./CLink-BZ5D-za9.js";import"./CPlaces-DBdQOhbq.js";import"./DataProps-DCopCXR4.js";const F=_({components:{NButton:$,NInput:H,NSelect:R,CTripPreviewCard:b,CHead:L,CLoadingTripPreviewCard:w},data:()=>({length:0,possibleCities:[],query:"",selectedCities:[],trips:[]}),async beforeMount(){this.$data.possibleCities=m.sortedCityOptions(),this.$data.trips=[];const t=await k.genGET("v2/sample_trips");for(const e of t)new c(e).details.days.length>0&&this.$data.trips.push(new c(e))},methods:{async search(){this.$data.query.length>0||this.$data.selectedCities.length>0||this.$data.length!==0||await p.genRedirectTo(l.trip_Search),await p.genRedirectTo(l.trip_Search,new Map(Object.entries({length:this.$data.length.toString(),query:this.$data.query,cities:m.citiesToString(this.$data.selectedCities)})))}}}),I={class:"landing"},G={class:"tripSearchForm"},K={class:"homePageTripCarousel"};function O(t,e,C,U,V,j){const h=s("CHead"),f=s("n-input"),g=s("n-select"),y=s("n-button"),v=s("CLoadingTripPreviewCard"),T=s("CTripPreviewCard");return n(),a("div",I,[o(h,{description:"Welcome to GlobeTrotte - A travel itinerary crowdsourcing platform",type:"homepage"}),e[3]||(e[3]=r("h1",{class:"title"},"GlobeTrotte",-1)),e[4]||(e[4]=r("h3",{class:"subtitle"},"Look for your next travel plan here!",-1)),e[5]||(e[5]=r("br",null,null,-1)),r("form",G,[o(f,{class:"tripSearchQueryInput",placeholder:"weekend",value:t.query,"onUpdate:value":e[0]||(e[0]=i=>t.query=i),onKeyup:N(t.search,["enter","native"])},null,8,["value","onKeyup"]),o(g,{class:"tripSearchCityInput",value:t.selectedCities,"onUpdate:value":e[1]||(e[1]=i=>t.selectedCities=i),options:t.possibleCities,filterable:"",multiple:"",placeholder:"City"},null,8,["value","options"]),o(y,{onClick:t.search},{default:P(()=>e[2]||(e[2]=[S("Find")])),_:1},8,["onClick"])]),r("div",K,[t.trips.length===0?(n(),a(d,{key:0},u(10,i=>o(v,{key:i})),64)):(n(!0),a(d,{key:1},u(t.trips,i=>(n(),q(T,{trip:i},null,8,["trip"]))),256))])])}const Z=B(F,[["render",O],["__scopeId","data-v-91fe1d40"]]);export{Z as default};
