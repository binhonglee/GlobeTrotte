import{d,G as r,R as n,g as t,f as c,aS as l,o as m,c as f,e as u,_}from"./index.3d0376f2.js";import{N as a,a as o}from"./NaiveUtils.baecc81c.js";class g{constructor(i){this.uuid="",this.userid=0,i&&(this.uuid=i.uuid!==void 0&&i.uuid!==null?i.uuid:"",this.userid=i.userid!==void 0&&i.userid!==null?i.userid:0)}toJsonKey(i){switch(i){case"uuid":return"uuid";case"userid":return"userid";default:return i}}}const p=d({beforeMount(){a.init()},async mounted(){const e=await r.genCurrentUser();if(e.confirmed){await n.genRedirectTo(t.Landing);return}const i=r.paramID();if(i===void 0){await n.genRedirectTo(t.unconfirmed_Email);return}const s=await c.genPOST("confirm/email",l.stringify(new g({uuid:i,userid:e.ID})));await r.genUpdateCurrentUser(),s?(a.notifyTrigger("Email Confirmation","Your email is now confirmed!",o.SUCCESS),await n.genRedirectTo(t.Landing)):(a.notifyTrigger("Email Confirmation","Email confirmation failed.",o.ERROR),await n.genRedirectTo(t.unconfirmed_Email))}}),h={class:"confirm_email_uuid"},E=u("h1",null,"Email Confirmation",-1),R=u("p",null,"Confirming your email address...",-1),w=[E,R];function T(e,i,s,C,y,v){return m(),f("div",h,w)}const N=_(p,[["render",T]]);export{N as default};
