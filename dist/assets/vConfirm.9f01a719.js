import{_ as h,R as r}from"./index.e48dfa1b.js";import{r as k,o as c,d as l,i as o,D as u,e as d,w as _,t as f,v as m,h as s,j as b,z as g}from"./vendor.834a3fba.js";const p=t=>(f("data-v-4d990b64"),t=t(),m(),t),v={class:"leaving_confirm narrow_content"},w={key:0,class:"nonBrokenLink"},C=p(()=>o("h1",{class:"title"},"You are leaving GlobeTrotte...",-1)),y={class:"content"},B=s("Make sure you want to proceed to"),$=["href"],R=s("Back to GlobeTrotte"),T=s("Proceed"),I={key:1,class:"brokenLink"},S=p(()=>o("h1",{class:"title"},"Broken link",-1)),M=p(()=>o("p",{class:"content"},"Seems like this link is broken. \u{1F625}",-1)),N=s("Back to GlobeTrotte");function W(t,e,n,a,G,L){const i=k("n-button");return c(),l("div",v,[t.broken?(c(),l("div",I,[S,M,d(i,{onClick:t.close},{default:_(()=>[N]),_:1},8,["onClick"])])):(c(),l("div",w,[C,o("p",y,[B,o("a",{class:"externalURL",href:t.link},u(t.link),9,$)]),d(i,{class:"backButton",onClick:t.close},{default:_(()=>[R]),_:1},8,["onClick"]),d(i,{type:"primary",tag:"a",href:t.link},{default:_(()=>[T]),_:1},8,["href"])]))])}const j=b({components:{NButton:g},data(){return{link:"",broken:!1}},async beforeMount(){var n,a;const t=r.getParamMap();if(t.size===0||!t.has("link")){this.$data.broken=!0;return}if(this.$data.link=decodeURIComponent(((a=(n=t.get("link"))==null?void 0:n.trim())!=null?a:"").split("&dots&").join(".").split(".pct.").join("%")),!this.$data.link.startsWith("https://")){this.$data.broken=!0;return}let e=this.$data.link;e.startsWith("https://")&&(e=e.substring(8)),e.startsWith("globetrotte.com")?await r.genRedirectTo(e.substring(15)):e.startsWith("www.globetrotte.com")&&await r.genRedirectTo(e.substring(19))},methods:{close(){window.close()}}});var D=h(j,[["render",W],["__scopeId","data-v-4d990b64"]]);export{D as default};
