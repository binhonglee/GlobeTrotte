import{C as f}from"./CTripPreviewCard.1ce5d348.js";import{U as g,G as v,_ as y}from"./index.b04e0467.js";import{r as i,o as t,d as s,i as l,x as p,g as r,e as n,w as u,F as C,s as w,f as $,h as c,m as k,n as P,j as T}from"./vendor.72ff2a45.js";const b=e=>(k("data-v-9e036d74"),e=e(),P(),e),B={class:"view_user"},E={class:"userInfo narrow_content"},I={key:0,class:"userName"},N={key:1,class:"userBio"},U={key:2,class:"userInfoButtonGroups"},V=c("Logout"),j=c("Edit"),A={key:0,class:"viewUserTrips"},S=b(()=>l("h2",null,"Trips",-1));function D(e,o,a,L,F,O){const d=i("el-button"),_=i("el-divider"),h=i("CTripPreviewCard");return t(),s("div",B,[l("div",E,[e.showName?(t(),s("h2",I,p(e.user.details.name),1)):r("",!0),e.user.details.bio!==""?(t(),s("p",N,p(e.user.details.bio),1)):r("",!0),e.self?(t(),s("div",U,[n(d,{class:"myAccountLogout",type:"danger",onClick:e.logout},{default:u(()=>[V]),_:1},8,["onClick"]),n(d,{class:"myAccountEdit",tabindex:"0",type:"default",ref:"edit",onClick:e.toggleEdit},{default:u(()=>[j]),_:1},8,["onClick"])])):r("",!0)]),n(_,{class:"viewUserDivider"}),e.trips.length>0?(t(),s("div",A,[S,(t(!0),s(C,null,w(e.trips,m=>(t(),$(h,{trip:m},null,8,["trip"]))),256))])):r("",!0)])}const G=T({components:{CTripPreviewCard:f},props:{user:{type:g,required:!0},showName:{type:Boolean,default:!0},self:{type:Boolean,default:!1}},emits:{logout(){return!0},toggleEdit(){return!0}},data:()=>({trips:[],lastPopulated:[]}),async beforeMount(){await this.genPopulateTrips()},async beforeUpdate(){await this.genPopulateTrips()},methods:{compareArray(e,o){if(e.length!==o.length)return!1;for(let a in e)if(e[a]!==o[a])return!1;return!0},async genPopulateTrips(){this.compareArray(this.$data.lastPopulated,this.$props.user.trips)||(this.$data.trips=await Promise.all(this.$props.user.trips.map(async e=>await v.genTrip(e.ID.valueOf()))),this.$data.lastPopulated=this.$props.user.trips)},logout(){this.$emit("logout")},toggleEdit(){this.$emit("toggleEdit")}}});var z=y(G,[["render",D],["__scopeId","data-v-9e036d74"]]);export{z as C};
