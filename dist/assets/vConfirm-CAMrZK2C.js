import{d as p,B as u,R as r,c as a,b as o,a as l,h as n,t as f,f as d,r as b,o as k,_ as c}from"./index-CVwEz7sZ.js";const m=p({components:{NButton:u},data(){return{link:"",broken:!1}},async beforeMount(){var s;const e=r.getParamMap();if(e.size===0||!e.has("link")){this.$data.broken=!0;return}if(this.$data.link=decodeURIComponent((((s=e.get("link"))==null?void 0:s.trim())??"").split("&dots&").join(".").split(".pct.").join("%")),!this.$data.link.startsWith("https://")){this.$data.broken=!0;return}let t=this.$data.link;t.startsWith("https://")&&(t=t.substring(8)),t.startsWith("globetrotte.com")?await r.genRedirectTo(t.substring(15)):t.startsWith("www.globetrotte.com")&&await r.genRedirectTo(t.substring(19))},methods:{close(){window.close()}}}),g={class:"leaving_confirm narrow_content"},h={key:0,class:"nonBrokenLink"},B={class:"content"},w=["href"],C={key:1,class:"brokenLink"};function $(e,t,s,v,y,R){const i=b("n-button");return k(),a("div",g,[e.broken?(k(),a("div",C,[t[6]||(t[6]=o("h1",{class:"title"},"Broken link",-1)),t[7]||(t[7]=o("p",{class:"content"},"Seems like this link is broken. ðŸ˜¥",-1)),l(i,{onClick:e.close},{default:d(()=>t[5]||(t[5]=[n("Back to GlobeTrotte")])),_:1},8,["onClick"])])):(k(),a("div",h,[t[4]||(t[4]=o("h1",{class:"title"},"You are leaving GlobeTrotte...",-1)),o("p",B,[t[0]||(t[0]=n("Make sure you want to proceed to")),t[1]||(t[1]=o("br",null,null,-1)),o("a",{class:"externalURL",href:e.link},f(e.link),9,w)]),l(i,{class:"backButton",onClick:e.close},{default:d(()=>t[2]||(t[2]=[n("Back to GlobeTrotte")])),_:1},8,["onClick"]),l(i,{type:"primary",tag:"a",href:e.link},{default:d(()=>t[3]||(t[3]=[n("Proceed")])),_:1},8,["href"])]))])}const _=c(m,[["render",$],["__scopeId","data-v-45802eb1"]]);export{_ as default};
