import{r as s,o,c as i,d as c,b as p,_ as l,i as d,T as r,bc as m,G as u,H as _,aW as w,R as T,j as f}from"./index.aaf24c90.js";import{C as v}from"./CEditTrip.d699c6f1.js";import"./DataProps.8dd5a3be.js";import"./Icon.fdedd375.js";import"./Input.8e3eb2ef.js";import"./E.713eaada.js";import"./NaiveUtils.aba419b5.js";import"./Select.ad6958d4.js";const C={class:"new_trip narrow_content"},g=p("h1",{class:"title"},"New Trip",-1);function h(e,a,t,N,R,S){const n=s("CEditTrip");return o(),i("div",C,[g,c(n,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const y=d({components:{CEditTrip:v},data(){return{trip:new r({details:{days:[{day_of:1,places:[{}]}]}})}},methods:{cancel(){m.back()},async save(e){const a=await u.genCurrentUser();try{if(a.ID!==0){const t=await _.genPOST("v2/trip",w.stringify(e));await T.genRedirectTo(f.trip_View+"/"+new r(t).ID);return}}catch{}this.$alert("Save was unsuccessful. Please try again later.","Fail",{confirmButtonText:"OK"})}}});var j=l(y,[["render",h]]);export{j as default};
