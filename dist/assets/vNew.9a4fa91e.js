import{d as p,T as r,b6 as l,G as d,f as m,aV as _,R as w,g as u,r as o,o as f,c as C,a as n,e as T,_ as v}from"./index.880ce31d.js";import{C as g}from"./CEditTrip.470f8b87.js";import{C as N}from"./CHead.4b0784a2.js";import{N as i}from"./NaiveUtils.8a94fd3c.js";import"./DataProps.1e7508a4.js";import"./Input.e30776b5.js";import"./CEditItem.cba84675.js";import"./UserUtil.f27e056e.js";import"./Select.5a253c83.js";const y=p({components:{CEditTrip:g,CHead:N},data(){return{trip:new r({details:{days:[{day_of:1,places:[{}]}]}})}},beforeMount(){i.init()},methods:{cancel(){l.back()},async save(e){const a=await d.genCurrentUser();try{if(a.ID!==0){const t=await m.genPOST("v2/trip",_.stringify(e));await w.genRedirectTo(u.trip_View+"/"+new r(t).ID);return}}catch{}i.dialogError({title:"Fail",content:"Save was unsuccessful. Please try again later.",positiveText:"OK"})}}}),h={class:"new_trip narrow_content"},E=T("h1",{class:"title"},"New Trip",-1);function R(e,a,t,S,b,H){const s=o("CHead"),c=o("CEditTrip");return f(),C("div",h,[n(s,{title:"New Trip",description:"Create new trip"}),E,n(c,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const I=v(y,[["render",R]]);export{I as default};
