import{d as c,b3 as l,G as d,f as m,aS as _,R as w,g as u,r as a,o as f,c as C,a as o,e as T,_ as v}from"./index.a119fb2a.js";import{C as g}from"./CEditTrip.8f4b8f5e.js";import{T as n}from"./TripObj.ed7121be.js";import{C as N}from"./CHead.8d35d32d.js";import{N as i}from"./NaiveUtils.b78db723.js";import"./DataProps.fda25700.js";import"./Input.a39cd35b.js";import"./CEditItem.0c1e3a9f.js";import"./UserUtil.f9c7c372.js";import"./Select.81b64a3a.js";const y=c({components:{CEditTrip:g,CHead:N},data(){return{trip:new n({details:{days:[{day_of:1,places:[{}]}]}})}},beforeMount(){i.init()},methods:{cancel(){l.back()},async save(e){const r=await d.genCurrentUser();try{if(r.ID!==0){const t=await m.genPOST("v2/trip",_.stringify(e));await w.genRedirectTo(u.trip_View+"/"+new n(t).ID);return}}catch{}i.dialogError({title:"Fail",content:"Save was unsuccessful. Please try again later.",positiveText:"OK"})}}}),h={class:"new_trip narrow_content"},S=T("h1",{class:"title"},"New Trip",-1);function E(e,r,t,R,b,H){const s=a("CHead"),p=a("CEditTrip");return f(),C("div",h,[o(s,{title:"New Trip",description:"Create new trip"}),S,o(p,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const j=v(y,[["render",E]]);export{j as default};
