import{d as p,T as r,b6 as l,G as d,f as m,aV as _,R as w,g as u,r as o,o as f,c as C,a as n,e as T,_ as v}from"./index.45c3ebbe.js";import{C as g}from"./CEditTrip.6dc05aa1.js";import{C as N}from"./CHead.b43a565e.js";import{N as i}from"./NaiveUtils.7e5a2397.js";import"./DataProps.7f82d746.js";import"./Input.2280c2c2.js";import"./CEditItem.2f119af9.js";import"./UserUtil.4f6f95ad.js";import"./Select.b12efc14.js";const y=p({components:{CEditTrip:g,CHead:N},data(){return{trip:new r({details:{days:[{day_of:1,places:[{}]}]}})}},beforeMount(){i.init()},methods:{cancel(){l.back()},async save(e){const a=await d.genCurrentUser();try{if(a.ID!==0){const t=await m.genPOST("v2/trip",_.stringify(e));await w.genRedirectTo(u.trip_View+"/"+new r(t).ID);return}}catch{}i.dialogError({title:"Fail",content:"Save was unsuccessful. Please try again later.",positiveText:"OK"})}}}),h={class:"new_trip narrow_content"},E=T("h1",{class:"title"},"New Trip",-1);function R(e,a,t,S,b,H){const s=o("CHead"),c=o("CEditTrip");return f(),C("div",h,[n(s,{title:"New Trip",description:"Create new trip"}),E,n(c,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const I=v(y,[["render",R]]);export{I as default};
