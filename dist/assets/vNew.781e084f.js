import{r as n,o as i,d as o,e as c,i as p,j as d,W as l}from"./vendor.7e867dc2.js";import{C as u}from"./CEditTrip.4aa91b93.js";import{_,T as r,r as m,G as w,H as f,R as T,a as v}from"./index.7963d8ee.js";import"./DataProps.e9988416.js";import"./E.32200074.js";import"./NaiveUtils.3fc13944.js";const C={class:"new_trip narrow_content"},j=p("h1",{class:"title"},"New Trip",-1);function g(e,a,t,y,E,N){const s=n("CEditTrip");return i(),o("div",C,[j,c(s,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const h=d({components:{CEditTrip:u},data(){return{trip:new r({details:{days:[{day_of:1,places:[{}]}]}})}},methods:{cancel(){m.back()},async save(e){const a=await w.genCurrentUser();try{if(a.ID!==0){const t=await f.genPOST("v2/trip",l.stringify(e));await T.genRedirectTo(v.trip_View+"/"+new r(t).ID);return}}catch{}this.$alert("Save was unsuccessful. Please try again later.","Fail",{confirmButtonText:"OK"})}}});var k=_(h,[["render",g]]);export{k as default};
