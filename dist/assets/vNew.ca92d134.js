import{r as n,o as i,d as o,e as c,i as p,j as d,W as l}from"./vendor.1cd2bc54.js";import{C as u}from"./CEditTrip.d168db49.js";import{_,T as r,r as f,G as m,H as w,R as T,a as v}from"./index.1a3e7aab.js";import"./DataProps.4308ef4e.js";import"./E.a3fc0823.js";import"./NaiveUtils.bff83414.js";const C={class:"new_trip narrow_content"},j=p("h1",{class:"title"},"New Trip",-1);function g(e,t,a,y,b,E){const s=n("CEditTrip");return i(),o("div",C,[j,c(s,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const h=d({components:{CEditTrip:u},data(){return{trip:new r({details:{days:[{day_of:1,places:[{}]}]}})}},methods:{cancel(){f.back()},async save(e){const t=await m.genCurrentUser();try{if(t.ID!==0){const a=await w.genPOST("v2/trip",l.stringify(e));await T.genRedirectTo(v.trip_View+"/"+new r(a).ID);return}}catch{}this.$alert("Save was unsuccessful. Please try again later.","Fail",{confirmButtonText:"OK"})}}});var k=_(h,[["render",g]]);export{k as default};
