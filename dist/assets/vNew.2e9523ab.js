import{r,o as c,c as l,a as o,e as d,_ as m,d as _,T as n,b6 as w,G as u,j as f,aW as C,R as T,k as v}from"./index.c9a9752e.js";import{C as g}from"./CEditTrip.74d22d1a.js";import{C as N}from"./CHead.e2694a3f.js";import{N as i}from"./NaiveUtils.fbb5ba21.js";import"./DataProps.c85eda28.js";import"./Input.42ab1152.js";import"./CEditItem.4462e6b1.js";import"./CacheStorage.97a6bb6c.js";import"./Select.1fd1c2c2.js";const y={class:"new_trip narrow_content"},h=d("h1",{class:"title"},"New Trip",-1);function E(e,a,t,S,b,k){const s=r("CHead"),p=r("CEditTrip");return c(),l("div",y,[o(s,{title:"New Trip",description:"Create new trip"}),h,o(p,{class:"newTrip narrow_display_window",trip:e.trip,isNew:!0,onSave:e.save,onCancel:e.cancel},null,8,["trip","onSave","onCancel"])])}const R=_({components:{CEditTrip:g,CHead:N},data(){return{trip:new n({details:{days:[{day_of:1,places:[{}]}]}})}},beforeMount(){i.init()},methods:{cancel(){w.back()},async save(e){const a=await u.genCurrentUser();try{if(a.ID!==0){const t=await f.genPOST("v2/trip",C.stringify(e));await T.genRedirectTo(v.trip_View+"/"+new n(t).ID);return}}catch{}i.dialogError({title:"Fail",content:"Save was unsuccessful. Please try again later.",positiveText:"OK"})}}});var G=m(R,[["render",E]]);export{G as default};
